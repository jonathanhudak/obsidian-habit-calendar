var Ue=Object.defineProperty;var Ge=(e,t,r)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var v=(e,t,r)=>(Ge(e,typeof t!="symbol"?t+"":t,r),r);import{S as D,i as L,s as P,C as Ze,k as A,a as xe,l as E,m as W,h as k,c as $e,n as b,p as et,b as M,I as h,D as tt,E as nt,F as rt,f as C,t as z,J as st,K as it,o as at,L as Z,M as c,N as K,O as lt,B as q,P as X,Q as ot,w as F,x as T,y as j,z as O,H as ut,R as dt,T as ht,e as Y,g as ct,d as ft,U as _t}from"../../chunks/index-c6ca5b2d.js";import{r as mt,w as gt}from"../../chunks/index-40b98a6e.js";class pt{constructor(){v(this,"currentLayerId");v(this,"setups");v(this,"renderers");v(this,"needsSetup");v(this,"needsResize");v(this,"needsRedraw");v(this,"layerSequence");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:t,render:r}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,r),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.needsRedraw=!0}render({autoclear:t,pixelRatio:r,context:s,width:a,height:o}){var l;const i={context:s,width:a,height:o};if(this.needsResize&&(s.setTransform(r,0,0,r,0,0),this.needsResize=!1),this.needsSetup){for(const[d,_]of this.setups)_(i),this.setups.delete(d);this.needsSetup=!1}if(this.needsRedraw){t&&s.clearRect(0,0,a,o);for(const d of this.layerSequence)(l=this.renderers.get(d))==null||l(i);this.needsRedraw=!1}}}function wt(e){let t,r,s,a,o,i,l,d,_;const p=e[13].default,u=Ze(p,e,e[12],null);return{c(){t=A("canvas"),o=xe(),i=A("div"),u&&u.c(),this.h()},l(f){t=E(f,"CANVAS",{style:!0,width:!0,height:!0,class:!0}),W(t).forEach(k),o=$e(f),i=E(f,"DIV",{style:!0});var m=W(i);u&&u.l(m),m.forEach(k),this.h()},h(){b(t,"style",r="display: block; width: "+e[1]+"px; height: "+e[2]+"px;"+(e[3]?` ${e[3]}`:"")),b(t,"width",s=e[1]*(e[0]??1)),b(t,"height",a=e[2]*(e[0]??1)),b(t,"class",e[4]),et(i,"display","none")},m(f,m){M(f,t,m),e[59](t),M(f,o,m),M(f,i,m),u&&u.m(i,null),e[60](i),l=!0,d||(_=[h(t,"focus",e[14]),h(t,"blur",e[15]),h(t,"fullscreenchange",e[16]),h(t,"fullscreenerror",e[17]),h(t,"scroll",e[18]),h(t,"cut",e[19]),h(t,"copy",e[20]),h(t,"paste",e[21]),h(t,"keydown",e[22]),h(t,"keypress",e[23]),h(t,"keyup",e[24]),h(t,"auxclick",e[25]),h(t,"click",e[26]),h(t,"contextmenu",e[27]),h(t,"dblclick",e[28]),h(t,"mousedown",e[29]),h(t,"mouseenter",e[30]),h(t,"mouseleave",e[31]),h(t,"mousemove",e[32]),h(t,"mouseover",e[33]),h(t,"mouseout",e[34]),h(t,"mouseup",e[35]),h(t,"select",e[36]),h(t,"wheel",e[37]),h(t,"drag",e[38]),h(t,"dragend",e[39]),h(t,"dragenter",e[40]),h(t,"dragstart",e[41]),h(t,"dragleave",e[42]),h(t,"dragover",e[43]),h(t,"drop",e[44]),h(t,"touchcancel",e[45]),h(t,"touchend",e[46]),h(t,"touchmove",e[47]),h(t,"touchstart",e[48]),h(t,"pointerover",e[49]),h(t,"pointerenter",e[50]),h(t,"pointerdown",e[51]),h(t,"pointermove",e[52]),h(t,"pointerup",e[53]),h(t,"pointercancel",e[54]),h(t,"pointerout",e[55]),h(t,"pointerleave",e[56]),h(t,"gotpointercapture",e[57]),h(t,"lostpointercapture",e[58])],d=!0)},p(f,m){(!l||m[0]&14&&r!==(r="display: block; width: "+f[1]+"px; height: "+f[2]+"px;"+(f[3]?` ${f[3]}`:"")))&&b(t,"style",r),(!l||m[0]&3&&s!==(s=f[1]*(f[0]??1)))&&b(t,"width",s),(!l||m[0]&5&&a!==(a=f[2]*(f[0]??1)))&&b(t,"height",a),(!l||m[0]&16)&&b(t,"class",f[4]),u&&u.p&&(!l||m[0]&4096)&&tt(u,p,f,f[12],l?rt(p,f[12],m,null):nt(f[12]),null)},i(f){l||(C(u,f),l=!0)},o(f){z(u,f),l=!1},d(f){f&&k(t),e[59](null),f&&k(o),f&&k(i),u&&u.d(f),e[60](null),d=!1,st(_)}}}const x=Symbol(),yt=()=>lt(x);function bt(e,t,r){let{$$slots:s={},$$scope:a}=t,{width:o=640,height:i=640,pixelRatio:l=null,style:d="",autoclear:_=!0}=t,{class:p=""}=t,u,f=null,m,w,y;const g=new pt;function R(){g.redraw()}function V(){return u}function S(){return f}l==null&&(typeof window<"u"?l=window.devicePixelRatio:l=2);function I(){g.render({context:f,width:o,height:i,pixelRatio:l,autoclear:_}),m=window.requestAnimationFrame(I)}it(x,{register:g.register,unregister:g.unregister,redraw:g.redraw}),at(()=>{f=u.getContext("2d"),y=new MutationObserver(n),y.observe(w,{childList:!0}),n(),I();function n(){const Qe=[...w.children].map(B=>B instanceof HTMLElement?parseInt(B.dataset.layerId??"-1"):-1);r(11,g.layerSequence=Qe,g),g.redraw()}}),Z(()=>{typeof window>"u"||(window.cancelAnimationFrame(m),y.disconnect())});function H(n){c.call(this,e,n)}function ne(n){c.call(this,e,n)}function re(n){c.call(this,e,n)}function se(n){c.call(this,e,n)}function ie(n){c.call(this,e,n)}function ae(n){c.call(this,e,n)}function le(n){c.call(this,e,n)}function oe(n){c.call(this,e,n)}function ue(n){c.call(this,e,n)}function de(n){c.call(this,e,n)}function he(n){c.call(this,e,n)}function ce(n){c.call(this,e,n)}function fe(n){c.call(this,e,n)}function _e(n){c.call(this,e,n)}function me(n){c.call(this,e,n)}function ge(n){c.call(this,e,n)}function pe(n){c.call(this,e,n)}function we(n){c.call(this,e,n)}function ye(n){c.call(this,e,n)}function be(n){c.call(this,e,n)}function ke(n){c.call(this,e,n)}function Re(n){c.call(this,e,n)}function ve(n){c.call(this,e,n)}function Ce(n){c.call(this,e,n)}function Se(n){c.call(this,e,n)}function ze(n){c.call(this,e,n)}function Ie(n){c.call(this,e,n)}function Me(n){c.call(this,e,n)}function De(n){c.call(this,e,n)}function Le(n){c.call(this,e,n)}function Pe(n){c.call(this,e,n)}function qe(n){c.call(this,e,n)}function Ae(n){c.call(this,e,n)}function Ee(n){c.call(this,e,n)}function We(n){c.call(this,e,n)}function Fe(n){c.call(this,e,n)}function Te(n){c.call(this,e,n)}function je(n){c.call(this,e,n)}function Oe(n){c.call(this,e,n)}function Ve(n){c.call(this,e,n)}function He(n){c.call(this,e,n)}function Ne(n){c.call(this,e,n)}function Be(n){c.call(this,e,n)}function Ke(n){c.call(this,e,n)}function Xe(n){c.call(this,e,n)}function Ye(n){K[n?"unshift":"push"](()=>{u=n,r(5,u)})}function Je(n){K[n?"unshift":"push"](()=>{w=n,r(6,w)})}return e.$$set=n=>{"width"in n&&r(1,o=n.width),"height"in n&&r(2,i=n.height),"pixelRatio"in n&&r(0,l=n.pixelRatio),"style"in n&&r(3,d=n.style),"autoclear"in n&&r(7,_=n.autoclear),"class"in n&&r(4,p=n.class),"$$scope"in n&&r(12,a=n.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&2183&&g.resize()},[l,o,i,d,p,u,w,_,R,V,S,g,a,s,H,ne,re,se,ie,ae,le,oe,ue,de,he,ce,fe,_e,me,ge,pe,we,ye,be,ke,Re,ve,Ce,Se,ze,Ie,Me,De,Le,Pe,qe,Ae,Ee,We,Fe,Te,je,Oe,Ve,He,Ne,Be,Ke,Xe,Ye,Je]}class kt extends D{constructor(t){super(),L(this,t,bt,wt,P,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,class:4,redraw:8,getCanvas:9,getContext:10},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function Rt(e){let t;return{c(){t=A("div"),this.h()},l(r){t=E(r,"DIV",{"data-layer-id":!0}),W(t).forEach(k),this.h()},h(){b(t,"data-layer-id",e[0])},m(r,s){M(r,t,s)},p:q,i:q,o:q,d(r){r&&k(t)}}}function vt(e,t,r){const{register:s,unregister:a,redraw:o}=yt();let{setup:i=void 0}=t,{render:l=()=>{}}=t;const d=s({setup:i,render:l});return Z(()=>a(d)),e.$$set=_=>{"setup"in _&&r(1,i=_.setup),"render"in _&&r(2,l=_.render)},e.$$.update=()=>{e.$$.dirty&4&&o()},[d,i,l]}class Ct extends D{constructor(t){super(),L(this,t,vt,Rt,P,{setup:1,render:2})}}let J;const $=Date.now(),ee=e=>(e(Date.now()-$),J=window.requestAnimationFrame(()=>ee(e)),()=>window.cancelAnimationFrame(J));function St(){}mt(Date.now()-$,typeof window>"u"?St:ee);function Q(e){return Object.prototype.toString.call(e)==="[object Date]"}function N(e,t,r,s){if(typeof r=="number"||Q(r)){const a=s-r,o=(r-t)/(e.dt||1/60),i=e.opts.stiffness*a,l=e.opts.damping*o,d=(i-l)*e.inv_mass,_=(o+d)*e.dt;return Math.abs(_)<e.opts.precision&&Math.abs(a)<e.opts.precision?s:(e.settled=!1,Q(r)?new Date(r.getTime()+_):r+_)}else{if(Array.isArray(r))return r.map((a,o)=>N(e,t[o],r[o],s[o]));if(typeof r=="object"){const a={};for(const o in r)a[o]=N(e,t[o],r[o],s[o]);return a}else throw new Error(`Cannot spring ${typeof r} values`)}}function zt(e,t={}){const r=gt(e),{stiffness:s=.15,damping:a=.8,precision:o=.01}=t;let i,l,d,_=e,p=e,u=1,f=0,m=!1;function w(g,R={}){p=g;const V=d={};return e==null||R.hard||y.stiffness>=1&&y.damping>=1?(m=!0,i=X(),_=g,r.set(e=p),Promise.resolve()):(R.soft&&(f=1/((R.soft===!0?.5:+R.soft)*60),u=0),l||(i=X(),m=!1,l=ot(S=>{if(m)return m=!1,l=null,!1;u=Math.min(u+f,1);const I={inv_mass:u,opts:y,settled:!0,dt:(S-i)*60/1e3},H=N(I,_,e,p);return i=S,_=e,r.set(e=H),I.settled&&(l=null),!I.settled})),new Promise(S=>{l.promise.then(()=>{V===d&&S()})}))}const y={set:w,update:(g,R)=>w(g(p,e),R),subscribe:r.subscribe,stiffness:s,damping:a,precision:o};return y}function It(e){let t,r;return t=new Ct({props:{render:e[0]}}),{c(){F(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){j(t,s,a),r=!0},p(s,[a]){const o={};a&1&&(o.render=s[0]),t.$set(o)},i(s){r||(C(t.$$.fragment,s),r=!0)},o(s){z(t.$$.fragment,s),r=!1},d(s){O(t,s)}}}function Mt(e,t,r){let s,a,{x:o=0,y:i=0,r:l=1,stroke:d=null,strokeWidth:_=3}=t;const p=zt(l,{stiffness:.15,damping:.3});return ut(e,p,u=>r(7,a=u)),e.$$set=u=>{"x"in u&&r(2,o=u.x),"y"in u&&r(3,i=u.y),"r"in u&&r(4,l=u.r),"stroke"in u&&r(5,d=u.stroke),"strokeWidth"in u&&r(6,_=u.strokeWidth)},e.$$.update=()=>{e.$$.dirty&16&&p.set(l),e.$$.dirty&236&&r(0,s=({context:u})=>{u.fillStyle=d||"gray",u.beginPath(),u.arc(o,i,a,0,2*Math.PI),u.fill(),d&&(u.strokeStyle=d,u.lineWidth=_,u.beginPath(),u.arc(o,i,a+_/2,0,2*Math.PI),u.stroke())})},[s,p,o,i,l,d,_,a]}class Dt extends D{constructor(t){super(),L(this,t,Mt,It,P,{x:2,y:3,r:4,stroke:5,strokeWidth:6})}}function U(e,t,r){const s=e.slice();return s[11]=t[r].x,s[12]=t[r].y,s[13]=t[r].r,s[14]=t[r].id,s}function G(e){let t,r;return t=new Dt({props:{x:e[11],y:e[12],r:e[2]===e[14]?5:3,stroke:e[2]===e[14]?"gold":null}}),{c(){F(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){j(t,s,a),r=!0},p(s,a){const o={};a&4&&(o.r=s[2]===s[14]?5:3),a&4&&(o.stroke=s[2]===s[14]?"gold":null),t.$set(o)},i(s){r||(C(t.$$.fragment,s),r=!0)},o(s){z(t.$$.fragment,s),r=!1},d(s){O(t,s)}}}function Lt(e){let t,r,s=e[4],a=[];for(let i=0;i<s.length;i+=1)a[i]=G(U(e,s,i));const o=i=>z(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();t=Y()},l(i){for(let l=0;l<a.length;l+=1)a[l].l(i);t=Y()},m(i,l){for(let d=0;d<a.length;d+=1)a[d].m(i,l);M(i,t,l),r=!0},p(i,l){if(l&20){s=i[4];let d;for(d=0;d<s.length;d+=1){const _=U(i,s,d);a[d]?(a[d].p(_,l),C(a[d],1)):(a[d]=G(_),a[d].c(),C(a[d],1),a[d].m(t.parentNode,t))}for(ct(),d=s.length;d<a.length;d+=1)o(d);ft()}},i(i){if(!r){for(let l=0;l<s.length;l+=1)C(a[l]);r=!0}},o(i){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)z(a[l]);r=!1},d(i){_t(a,i),i&&k(t)}}}function Pt(e){let t,r,s,a;return r=new kt({props:{width:e[0],height:e[1],style:"cursor: pointer",$$slots:{default:[Lt]},$$scope:{ctx:e}}}),r.$on("mousemove",e[5]),r.$on("mousedown",e[6]),r.$on("mouseup",e[7]),r.$on("mouseout",e[8]),{c(){t=A("div"),F(r.$$.fragment),this.h()},l(o){t=E(o,"DIV",{class:!0});var i=W(t);T(r.$$.fragment,i),i.forEach(k),this.h()},h(){b(t,"class","svelte-1fkge7j"),dt(()=>e[9].call(t))},m(o,i){M(o,t,i),j(r,t,null),s=ht(t,e[9].bind(t)),a=!0},p(o,[i]){const l={};i&1&&(l.width=o[0]),i&2&&(l.height=o[1]),i&131076&&(l.$$scope={dirty:i,ctx:o}),r.$set(l)},i(o){a||(C(r.$$.fragment,o),a=!0)},o(o){z(r.$$.fragment,o),a=!1},d(o){o&&k(t),O(r),s()}}}let te=5;function qt(e){return 10+e*te*10}function At(e,t,r){let s=Array(7).fill(null).map((m,w)=>({x:qt(w),y:10,r:te,id:`day${w}`})),a,o,i=null,l=!1;console.log(s);const d=({clientX:m,clientY:w})=>{if(w<10||w>20){r(2,i=null);return}const y=s.find(g=>m>g.x&&m<g.x+50);y&&r(2,i=y.id)},_=()=>r(3,l=!0),p=()=>r(3,l=!1),u=()=>r(2,i=null);function f(){a=this.clientWidth,o=this.clientHeight,r(0,a),r(1,o)}return[a,o,i,l,s,d,_,p,u,f]}class Et extends D{constructor(t){super(),L(this,t,At,Pt,P,{})}}function Wt(e){let t,r;return t=new Et({}),{c(){F(t.$$.fragment)},l(s){T(t.$$.fragment,s)},m(s,a){j(t,s,a),r=!0},p:q,i(s){r||(C(t.$$.fragment,s),r=!0)},o(s){z(t.$$.fragment,s),r=!1},d(s){O(t,s)}}}class Ot extends D{constructor(t){super(),L(this,t,null,Wt,P,{})}}export{Ot as default};
