import{S as Ct,i as Dt,s as At,k as Mt,l as kt,m as mt,h as q,n as bt,b as ct,G as Rt,B as H,o as qt,A as Vt,I as jt,w as tt,a as yt,x as et,c as wt,y as st,f as nt,t as at,z as ot}from"../../chunks/index-ae03fd13.js";function rt(r,e,s){if(r&&r.length){const[t,n]=e,o=Math.PI/180*s,h=Math.cos(o),a=Math.sin(o);r.forEach(c=>{const[p,i]=c;c[0]=(p-t)*h-(i-n)*a+t,c[1]=(p-t)*a+(i-n)*h+n})}}function Y(r){const e=r[0],s=r[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}function V(r,e){const s=e.hachureAngle+90;let t=e.hachureGap;t<0&&(t=4*e.strokeWidth),t=Math.max(t,.1);const n=[0,0];if(s)for(const h of r)rt(h,n,s);const o=function(h,a){const c=[];for(const u of h){const l=[...u];l[0].join(",")!==l[l.length-1].join(",")&&l.push([l[0][0],l[0][1]]),l.length>2&&c.push(l)}const p=[];a=Math.max(a,.1);const i=[];for(const u of c)for(let l=0;l<u.length-1;l++){const M=u[l],g=u[l+1];if(M[1]!==g[1]){const k=Math.min(M[1],g[1]);i.push({ymin:k,ymax:Math.max(M[1],g[1]),x:k===M[1]?M[0]:g[0],islope:(g[0]-M[0])/(g[1]-M[1])})}}if(i.sort((u,l)=>u.ymin<l.ymin?-1:u.ymin>l.ymin?1:u.x<l.x?-1:u.x>l.x?1:u.ymax===l.ymax?0:(u.ymax-l.ymax)/Math.abs(u.ymax-l.ymax)),!i.length)return p;let d=[],f=i[0].ymin;for(;d.length||i.length;){if(i.length){let u=-1;for(let l=0;l<i.length&&!(i[l].ymin>f);l++)u=l;i.splice(0,u+1).forEach(l=>{d.push({s:f,edge:l})})}if(d=d.filter(u=>!(u.edge.ymax<=f)),d.sort((u,l)=>u.edge.x===l.edge.x?0:(u.edge.x-l.edge.x)/Math.abs(u.edge.x-l.edge.x)),d.length>1)for(let u=0;u<d.length;u+=2){const l=u+1;if(l>=d.length)break;const M=d[u].edge,g=d[l].edge;p.push([[Math.round(M.x),f],[Math.round(g.x),f]])}f+=a,d.forEach(u=>{u.edge.x=u.edge.x+a*u.edge.islope})}return p}(r,t);if(s){for(const h of r)rt(h,n,-s);(function(h,a,c){const p=[];h.forEach(i=>p.push(...i)),rt(p,a,c)})(o,n,-s)}return o}class ft{constructor(e){this.helper=e}fillPolygons(e,s){return this._fillPolygons(e,s)}_fillPolygons(e,s){const t=V(e,s);return{type:"fillSketch",ops:this.renderLines(t,s)}}renderLines(e,s){const t=[];for(const n of e)t.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],s));return t}}class Ft extends ft{fillPolygons(e,s){let t=s.hachureGap;t<0&&(t=4*s.strokeWidth),t=Math.max(t,.1);const n=V(e,Object.assign({},s,{hachureGap:t})),o=Math.PI/180*s.hachureAngle,h=[],a=.5*t*Math.cos(o),c=.5*t*Math.sin(o);for(const[p,i]of n)Y([p,i])&&h.push([[p[0]-a,p[1]+c],[...i]],[[p[0]+a,p[1]-c],[...i]]);return{type:"fillSketch",ops:this.renderLines(h,s)}}}class Zt extends ft{fillPolygons(e,s){const t=this._fillPolygons(e,s),n=Object.assign({},s,{hachureAngle:s.hachureAngle+90}),o=this._fillPolygons(e,n);return t.ops=t.ops.concat(o.ops),t}}class Qt{constructor(e){this.helper=e}fillPolygons(e,s){const t=V(e,s=Object.assign({},s,{hachureAngle:0}));return this.dotsOnLines(t,s)}dotsOnLines(e,s){const t=[];let n=s.hachureGap;n<0&&(n=4*s.strokeWidth),n=Math.max(n,.1);let o=s.fillWeight;o<0&&(o=s.strokeWidth/2);const h=n/4;for(const a of e){const c=Y(a),p=c/n,i=Math.ceil(p)-1,d=c-i*n,f=(a[0][0]+a[1][0])/2-n/4,u=Math.min(a[0][1],a[1][1]);for(let l=0;l<i;l++){const M=u+d+l*n,g=f-h+2*Math.random()*h,k=M-h+2*Math.random()*h,b=this.helper.ellipse(g,k,o,o,s);t.push(...b.ops)}}return{type:"fillSketch",ops:t}}}class Ht{constructor(e){this.helper=e}fillPolygons(e,s){const t=V(e,s);return{type:"fillSketch",ops:this.dashedLine(t,s)}}dashedLine(e,s){const t=s.dashOffset<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashOffset,n=s.dashGap<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashGap,o=[];return e.forEach(h=>{const a=Y(h),c=Math.floor(a/(t+n)),p=(a+n-c*(t+n))/2;let i=h[0],d=h[1];i[0]>d[0]&&(i=h[1],d=h[0]);const f=Math.atan((d[1]-i[1])/(d[0]-i[0]));for(let u=0;u<c;u++){const l=u*(t+n),M=l+t,g=[i[0]+l*Math.cos(f)+p*Math.cos(f),i[1]+l*Math.sin(f)+p*Math.sin(f)],k=[i[0]+M*Math.cos(f)+p*Math.cos(f),i[1]+M*Math.sin(f)+p*Math.sin(f)];o.push(...this.helper.doubleLineOps(g[0],g[1],k[0],k[1],s))}}),o}}class Nt{constructor(e){this.helper=e}fillPolygons(e,s){const t=s.hachureGap<0?4*s.strokeWidth:s.hachureGap,n=s.zigzagOffset<0?t:s.zigzagOffset,o=V(e,s=Object.assign({},s,{hachureGap:t+n}));return{type:"fillSketch",ops:this.zigzagLines(o,n,s)}}zigzagLines(e,s,t){const n=[];return e.forEach(o=>{const h=Y(o),a=Math.round(h/(2*s));let c=o[0],p=o[1];c[0]>p[0]&&(c=o[1],p=o[0]);const i=Math.atan((p[1]-c[1])/(p[0]-c[0]));for(let d=0;d<a;d++){const f=2*d*s,u=2*(d+1)*s,l=Math.sqrt(2*Math.pow(s,2)),M=[c[0]+f*Math.cos(i),c[1]+f*Math.sin(i)],g=[c[0]+u*Math.cos(i),c[1]+u*Math.sin(i)],k=[M[0]+l*Math.cos(i+Math.PI/4),M[1]+l*Math.sin(i+Math.PI/4)];n.push(...this.helper.doubleLineOps(M[0],M[1],k[0],k[1],t),...this.helper.doubleLineOps(k[0],k[1],g[0],g[1],t))}}),n}}const x={};class Bt{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const F={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ht(r,e){return r.type===e}function lt(r){const e=[],s=function(h){const a=new Array;for(;h!=="";)if(h.match(/^([ \t\r\n,]+)/))h=h.substr(RegExp.$1.length);else if(h.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:0,text:RegExp.$1},h=h.substr(RegExp.$1.length);else{if(!h.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:1,text:`${parseFloat(RegExp.$1)}`},h=h.substr(RegExp.$1.length)}return a[a.length]={type:2,text:""},a}(r);let t="BOD",n=0,o=s[n];for(;!ht(o,2);){let h=0;const a=[];if(t==="BOD"){if(o.text!=="M"&&o.text!=="m")return lt("M0,0"+r);n++,h=F[o.text],t=o.text}else ht(o,1)?h=F[t]:(n++,h=F[o.text],t=o.text);if(!(n+h<s.length))throw new Error("Path data ended short");for(let c=n;c<n+h;c++){const p=s[c];if(!ht(p,1))throw new Error("Param not a number: "+t+","+p.text);a[a.length]=+p.text}if(typeof F[t]!="number")throw new Error("Bad segment: "+t);{const c={key:t,data:a};e.push(c),n+=h,o=s[n],t==="M"&&(t="L"),t==="m"&&(t="l")}}return e}function xt(r){let e=0,s=0,t=0,n=0;const o=[];for(const{key:h,data:a}of r)switch(h){case"M":o.push({key:"M",data:[...a]}),[e,s]=a,[t,n]=a;break;case"m":e+=a[0],s+=a[1],o.push({key:"M",data:[e,s]}),t=e,n=s;break;case"L":o.push({key:"L",data:[...a]}),[e,s]=a;break;case"l":e+=a[0],s+=a[1],o.push({key:"L",data:[e,s]});break;case"C":o.push({key:"C",data:[...a]}),e=a[4],s=a[5];break;case"c":{const c=a.map((p,i)=>i%2?p+s:p+e);o.push({key:"C",data:c}),e=c[4],s=c[5];break}case"Q":o.push({key:"Q",data:[...a]}),e=a[2],s=a[3];break;case"q":{const c=a.map((p,i)=>i%2?p+s:p+e);o.push({key:"Q",data:c}),e=c[2],s=c[3];break}case"A":o.push({key:"A",data:[...a]}),e=a[5],s=a[6];break;case"a":e+=a[5],s+=a[6],o.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,s]});break;case"H":o.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],o.push({key:"H",data:[e]});break;case"V":o.push({key:"V",data:[...a]}),s=a[0];break;case"v":s+=a[0],o.push({key:"V",data:[s]});break;case"S":o.push({key:"S",data:[...a]}),e=a[2],s=a[3];break;case"s":{const c=a.map((p,i)=>i%2?p+s:p+e);o.push({key:"S",data:c}),e=c[2],s=c[3];break}case"T":o.push({key:"T",data:[...a]}),e=a[0],s=a[1];break;case"t":e+=a[0],s+=a[1],o.push({key:"T",data:[e,s]});break;case"Z":case"z":o.push({key:"Z",data:[]}),e=t,s=n}return o}function vt(r){const e=[];let s="",t=0,n=0,o=0,h=0,a=0,c=0;for(const{key:p,data:i}of r){switch(p){case"M":e.push({key:"M",data:[...i]}),[t,n]=i,[o,h]=i;break;case"C":e.push({key:"C",data:[...i]}),t=i[4],n=i[5],a=i[2],c=i[3];break;case"L":e.push({key:"L",data:[...i]}),[t,n]=i;break;case"H":t=i[0],e.push({key:"L",data:[t,n]});break;case"V":n=i[0],e.push({key:"L",data:[t,n]});break;case"S":{let d=0,f=0;s==="C"||s==="S"?(d=t+(t-a),f=n+(n-c)):(d=t,f=n),e.push({key:"C",data:[d,f,...i]}),a=i[0],c=i[1],t=i[2],n=i[3];break}case"T":{const[d,f]=i;let u=0,l=0;s==="Q"||s==="T"?(u=t+(t-a),l=n+(n-c)):(u=t,l=n);const M=t+2*(u-t)/3,g=n+2*(l-n)/3,k=d+2*(u-d)/3,b=f+2*(l-f)/3;e.push({key:"C",data:[M,g,k,b,d,f]}),a=u,c=l,t=d,n=f;break}case"Q":{const[d,f,u,l]=i,M=t+2*(d-t)/3,g=n+2*(f-n)/3,k=u+2*(d-u)/3,b=l+2*(f-l)/3;e.push({key:"C",data:[M,g,k,b,u,l]}),a=d,c=f,t=u,n=l;break}case"A":{const d=Math.abs(i[0]),f=Math.abs(i[1]),u=i[2],l=i[3],M=i[4],g=i[5],k=i[6];d===0||f===0?(e.push({key:"C",data:[t,n,g,k,g,k]}),t=g,n=k):(t!==g||n!==k)&&($t(t,n,g,k,d,f,u,l,M).forEach(function(b){e.push({key:"C",data:b})}),t=g,n=k);break}case"Z":e.push({key:"Z",data:[]}),t=o,n=h}s=p}return e}function G(r,e,s){return[r*Math.cos(s)-e*Math.sin(s),r*Math.sin(s)+e*Math.cos(s)]}function $t(r,e,s,t,n,o,h,a,c,p){const i=(d=h,Math.PI*d/180);var d;let f=[],u=0,l=0,M=0,g=0;if(p)[u,l,M,g]=p;else{[r,e]=G(r,e,-i),[s,t]=G(s,t,-i);const S=(r-s)/2,w=(e-t)/2;let C=S*S/(n*n)+w*w/(o*o);C>1&&(C=Math.sqrt(C),n*=C,o*=C);const z=n*n,W=o*o,Et=z*W-z*w*w-W*S*S,Gt=z*w*w+W*S*S,gt=(a===c?-1:1)*Math.sqrt(Math.abs(Et/Gt));M=gt*n*w/o+(r+s)/2,g=gt*-o*S/n+(e+t)/2,u=Math.asin(parseFloat(((e-g)/o).toFixed(9))),l=Math.asin(parseFloat(((t-g)/o).toFixed(9))),r<M&&(u=Math.PI-u),s<M&&(l=Math.PI-l),u<0&&(u=2*Math.PI+u),l<0&&(l=2*Math.PI+l),c&&u>l&&(u-=2*Math.PI),!c&&l>u&&(l-=2*Math.PI)}let k=l-u;if(Math.abs(k)>120*Math.PI/180){const S=l,w=s,C=t;l=c&&l>u?u+120*Math.PI/180*1:u+120*Math.PI/180*-1,f=$t(s=M+n*Math.cos(l),t=g+o*Math.sin(l),w,C,n,o,h,0,c,[l,S,M,g])}k=l-u;const b=Math.cos(u),_=Math.sin(u),O=Math.cos(l),y=Math.sin(l),v=Math.tan(k/4),D=4/3*n*v,T=4/3*o*v,j=[r,e],L=[r+D*_,e-T*b],$=[s+D*y,t-T*O],dt=[s,t];if(L[0]=2*j[0]-L[0],L[1]=2*j[1]-L[1],p)return[L,$,dt].concat(f);{f=[L,$,dt].concat(f);const S=[];for(let w=0;w<f.length;w+=3){const C=G(f[w][0],f[w][1],i),z=G(f[w+1][0],f[w+1][1],i),W=G(f[w+2][0],f[w+2][1],i);S.push([C[0],C[1],z[0],z[1],W[0],W[1]])}return S}}const Jt={randOffset:function(r,e){return m(r,e)},randOffsetWithRange:function(r,e,s){return J(r,e,s)},ellipse:function(r,e,s,t,n){const o=zt(s,t,n);return ut(r,e,n,o).opset},doubleLineOps:function(r,e,s,t,n){return A(r,e,s,t,n,!0)}};function It(r,e,s,t,n){return{type:"path",ops:A(r,e,s,t,n)}}function N(r,e,s){const t=(r||[]).length;if(t>2){const n=[];for(let o=0;o<t-1;o++)n.push(...A(r[o][0],r[o][1],r[o+1][0],r[o+1][1],s));return e&&n.push(...A(r[t-1][0],r[t-1][1],r[0][0],r[0][1],s)),{type:"path",ops:n}}return t===2?It(r[0][0],r[0][1],r[1][0],r[1][1],s):{type:"path",ops:[]}}function Kt(r,e,s,t,n){return function(o,h){return N(o,!0,h)}([[r,e],[r+s,e],[r+s,e+t],[r,e+t]],n)}function Ut(r,e){let s=St(r,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){const t=St(r,1.5*(1+.22*e.roughness),function(n){const o=Object.assign({},n);return o.randomizer=void 0,n.seed&&(o.seed=n.seed+1),o}(e));s=s.concat(t)}return{type:"path",ops:s}}function zt(r,e,s){const t=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(r/2,2)+Math.pow(e/2,2))/2)),n=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*t)),o=2*Math.PI/n;let h=Math.abs(r/2),a=Math.abs(e/2);const c=1-s.curveFitting;return h+=m(h*c,s),a+=m(a*c,s),{increment:o,rx:h,ry:a}}function ut(r,e,s,t){const[n,o]=Ot(t.increment,r,e,t.rx,t.ry,1,t.increment*J(.1,J(.4,1,s),s),s);let h=K(n,null,s);if(!s.disableMultiStroke&&s.roughness!==0){const[a]=Ot(t.increment,r,e,t.rx,t.ry,1.5,0,s),c=K(a,null,s);h=h.concat(c)}return{estimatedPoints:o,opset:{type:"path",ops:h}}}function Pt(r,e,s,t,n,o,h,a,c){const p=r,i=e;let d=Math.abs(s/2),f=Math.abs(t/2);d+=m(.01*d,c),f+=m(.01*f,c);let u=n,l=o;for(;u<0;)u+=2*Math.PI,l+=2*Math.PI;l-u>2*Math.PI&&(u=0,l=2*Math.PI);const M=2*Math.PI/c.curveStepCount,g=Math.min(M/2,(l-u)/2),k=Lt(g,p,i,d,f,u,l,1,c);if(!c.disableMultiStroke){const b=Lt(g,p,i,d,f,u,l,1.5,c);k.push(...b)}return h&&(a?k.push(...A(p,i,p+d*Math.cos(u),i+f*Math.sin(u),c),...A(p,i,p+d*Math.cos(l),i+f*Math.sin(l),c)):k.push({op:"lineTo",data:[p,i]},{op:"lineTo",data:[p+d*Math.cos(u),i+f*Math.sin(u)]})),{type:"path",ops:k}}function Z(r,e){const s=[];for(const t of r)if(t.length){const n=e.maxRandomnessOffset||0,o=t.length;if(o>2){s.push({op:"move",data:[t[0][0]+m(n,e),t[0][1]+m(n,e)]});for(let h=1;h<o;h++)s.push({op:"lineTo",data:[t[h][0]+m(n,e),t[h][1]+m(n,e)]})}}return{type:"fillPath",ops:s}}function E(r,e){return function(s,t){let n=s.fillStyle||"hachure";if(!x[n])switch(n){case"zigzag":x[n]||(x[n]=new Ft(t));break;case"cross-hatch":x[n]||(x[n]=new Zt(t));break;case"dots":x[n]||(x[n]=new Qt(t));break;case"dashed":x[n]||(x[n]=new Ht(t));break;case"zigzag-line":x[n]||(x[n]=new Nt(t));break;case"hachure":default:n="hachure",x[n]||(x[n]=new ft(t))}return x[n]}(e,Jt).fillPolygons(r,e)}function Wt(r){return r.randomizer||(r.randomizer=new Bt(r.seed||0)),r.randomizer.next()}function J(r,e,s,t=1){return s.roughness*t*(Wt(s)*(e-r)+r)}function m(r,e,s=1){return J(-r,r,e,s)}function A(r,e,s,t,n,o=!1){const h=o?n.disableMultiStrokeFill:n.disableMultiStroke,a=_t(r,e,s,t,n,!0,!1);if(h)return a;const c=_t(r,e,s,t,n,!0,!0);return a.concat(c)}function _t(r,e,s,t,n,o,h){const a=Math.pow(r-s,2)+Math.pow(e-t,2),c=Math.sqrt(a);let p=1;p=c<200?1:c>500?.4:-.0016668*c+1.233334;let i=n.maxRandomnessOffset||0;i*i*100>a&&(i=c/10);const d=i/2,f=.2+.2*Wt(n);let u=n.bowing*n.maxRandomnessOffset*(t-e)/200,l=n.bowing*n.maxRandomnessOffset*(r-s)/200;u=m(u,n,p),l=m(l,n,p);const M=[],g=()=>m(d,n,p),k=()=>m(i,n,p),b=n.preserveVertices;return o&&(h?M.push({op:"move",data:[r+(b?0:g()),e+(b?0:g())]}):M.push({op:"move",data:[r+(b?0:m(i,n,p)),e+(b?0:m(i,n,p))]})),h?M.push({op:"bcurveTo",data:[u+r+(s-r)*f+g(),l+e+(t-e)*f+g(),u+r+2*(s-r)*f+g(),l+e+2*(t-e)*f+g(),s+(b?0:g()),t+(b?0:g())]}):M.push({op:"bcurveTo",data:[u+r+(s-r)*f+k(),l+e+(t-e)*f+k(),u+r+2*(s-r)*f+k(),l+e+2*(t-e)*f+k(),s+(b?0:k()),t+(b?0:k())]}),M}function St(r,e,s){const t=[];t.push([r[0][0]+m(e,s),r[0][1]+m(e,s)]),t.push([r[0][0]+m(e,s),r[0][1]+m(e,s)]);for(let n=1;n<r.length;n++)t.push([r[n][0]+m(e,s),r[n][1]+m(e,s)]),n===r.length-1&&t.push([r[n][0]+m(e,s),r[n][1]+m(e,s)]);return K(t,null,s)}function K(r,e,s){const t=r.length,n=[];if(t>3){const o=[],h=1-s.curveTightness;n.push({op:"move",data:[r[1][0],r[1][1]]});for(let a=1;a+2<t;a++){const c=r[a];o[0]=[c[0],c[1]],o[1]=[c[0]+(h*r[a+1][0]-h*r[a-1][0])/6,c[1]+(h*r[a+1][1]-h*r[a-1][1])/6],o[2]=[r[a+1][0]+(h*r[a][0]-h*r[a+2][0])/6,r[a+1][1]+(h*r[a][1]-h*r[a+2][1])/6],o[3]=[r[a+1][0],r[a+1][1]],n.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&e.length===2){const a=s.maxRandomnessOffset;n.push({op:"lineTo",data:[e[0]+m(a,s),e[1]+m(a,s)]})}}else t===3?(n.push({op:"move",data:[r[1][0],r[1][1]]}),n.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[2][0],r[2][1]]})):t===2&&n.push(...A(r[0][0],r[0][1],r[1][0],r[1][1],s));return n}function Ot(r,e,s,t,n,o,h,a){const c=[],p=[];if(a.roughness===0){r/=4,p.push([e+t*Math.cos(-r),s+n*Math.sin(-r)]);for(let i=0;i<=2*Math.PI;i+=r){const d=[e+t*Math.cos(i),s+n*Math.sin(i)];c.push(d),p.push(d)}p.push([e+t*Math.cos(0),s+n*Math.sin(0)]),p.push([e+t*Math.cos(r),s+n*Math.sin(r)])}else{const i=m(.5,a)-Math.PI/2;p.push([m(o,a)+e+.9*t*Math.cos(i-r),m(o,a)+s+.9*n*Math.sin(i-r)]);const d=2*Math.PI+i-.01;for(let f=i;f<d;f+=r){const u=[m(o,a)+e+t*Math.cos(f),m(o,a)+s+n*Math.sin(f)];c.push(u),p.push(u)}p.push([m(o,a)+e+t*Math.cos(i+2*Math.PI+.5*h),m(o,a)+s+n*Math.sin(i+2*Math.PI+.5*h)]),p.push([m(o,a)+e+.98*t*Math.cos(i+h),m(o,a)+s+.98*n*Math.sin(i+h)]),p.push([m(o,a)+e+.9*t*Math.cos(i+.5*h),m(o,a)+s+.9*n*Math.sin(i+.5*h)])}return[p,c]}function Lt(r,e,s,t,n,o,h,a,c){const p=o+m(.1,c),i=[];i.push([m(a,c)+e+.9*t*Math.cos(p-r),m(a,c)+s+.9*n*Math.sin(p-r)]);for(let d=p;d<=h;d+=r)i.push([m(a,c)+e+t*Math.cos(d),m(a,c)+s+n*Math.sin(d)]);return i.push([e+t*Math.cos(h),s+n*Math.sin(h)]),i.push([e+t*Math.cos(h),s+n*Math.sin(h)]),K(i,null,c)}function Xt(r,e,s,t,n,o,h,a){const c=[],p=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let i=[0,0];const d=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let u=0;u<d;u++)u===0?c.push({op:"move",data:[h[0],h[1]]}):c.push({op:"move",data:[h[0]+(f?0:m(p[0],a)),h[1]+(f?0:m(p[0],a))]}),i=f?[n,o]:[n+m(p[u],a),o+m(p[u],a)],c.push({op:"bcurveTo",data:[r+m(p[u],a),e+m(p[u],a),s+m(p[u],a),t+m(p[u],a),i[0],i[1]]});return c}function R(r){return[...r]}function B(r,e){return Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2)}function Yt(r,e,s){const t=B(e,s);if(t===0)return B(r,e);let n=((r[0]-e[0])*(s[0]-e[0])+(r[1]-e[1])*(s[1]-e[1]))/t;return n=Math.max(0,Math.min(1,n)),B(r,I(e,s,n))}function I(r,e,s){return[r[0]+(e[0]-r[0])*s,r[1]+(e[1]-r[1])*s]}function pt(r,e,s,t){const n=t||[];if(function(a,c){const p=a[c+0],i=a[c+1],d=a[c+2],f=a[c+3];let u=3*i[0]-2*p[0]-f[0];u*=u;let l=3*i[1]-2*p[1]-f[1];l*=l;let M=3*d[0]-2*f[0]-p[0];M*=M;let g=3*d[1]-2*f[1]-p[1];return g*=g,u<M&&(u=M),l<g&&(l=g),u+l}(r,e)<s){const a=r[e+0];n.length?(o=n[n.length-1],h=a,Math.sqrt(B(o,h))>1&&n.push(a)):n.push(a),n.push(r[e+3])}else{const c=r[e+0],p=r[e+1],i=r[e+2],d=r[e+3],f=I(c,p,.5),u=I(p,i,.5),l=I(i,d,.5),M=I(f,u,.5),g=I(u,l,.5),k=I(M,g,.5);pt([c,f,M,k],0,s,n),pt([k,g,l,d],0,s,n)}var o,h;return n}function te(r,e){return U(r,0,r.length,e)}function U(r,e,s,t,n){const o=n||[],h=r[e],a=r[s-1];let c=0,p=1;for(let i=e+1;i<s-1;++i){const d=Yt(r[i],h,a);d>c&&(c=d,p=i)}return Math.sqrt(c)>t?(U(r,e,p+1,t,o),U(r,p,s,t,o)):(o.length||o.push(h),o.push(a)),o}function Tt(r,e=.15,s){const t=[],n=(r.length-1)/3;for(let o=0;o<n;o++)pt(r,3*o,e,t);return s&&s>0?U(t,0,t.length,s):t}const P="none";class X{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,s,t){return{shape:e,sets:s||[],options:t||this.defaultOptions}}line(e,s,t,n,o){const h=this._o(o);return this._d("line",[It(e,s,t,n,h)],h)}rectangle(e,s,t,n,o){const h=this._o(o),a=[],c=Kt(e,s,t,n,h);if(h.fill){const p=[[e,s],[e+t,s],[e+t,s+n],[e,s+n]];h.fillStyle==="solid"?a.push(Z([p],h)):a.push(E([p],h))}return h.stroke!==P&&a.push(c),this._d("rectangle",a,h)}ellipse(e,s,t,n,o){const h=this._o(o),a=[],c=zt(t,n,h),p=ut(e,s,h,c);if(h.fill)if(h.fillStyle==="solid"){const i=ut(e,s,h,c).opset;i.type="fillPath",a.push(i)}else a.push(E([p.estimatedPoints],h));return h.stroke!==P&&a.push(p.opset),this._d("ellipse",a,h)}circle(e,s,t,n){const o=this.ellipse(e,s,t,t,n);return o.shape="circle",o}linearPath(e,s){const t=this._o(s);return this._d("linearPath",[N(e,!1,t)],t)}arc(e,s,t,n,o,h,a=!1,c){const p=this._o(c),i=[],d=Pt(e,s,t,n,o,h,a,!0,p);if(a&&p.fill)if(p.fillStyle==="solid"){const f=Object.assign({},p);f.disableMultiStroke=!0;const u=Pt(e,s,t,n,o,h,!0,!1,f);u.type="fillPath",i.push(u)}else i.push(function(f,u,l,M,g,k,b){const _=f,O=u;let y=Math.abs(l/2),v=Math.abs(M/2);y+=m(.01*y,b),v+=m(.01*v,b);let D=g,T=k;for(;D<0;)D+=2*Math.PI,T+=2*Math.PI;T-D>2*Math.PI&&(D=0,T=2*Math.PI);const j=(T-D)/b.curveStepCount,L=[];for(let $=D;$<=T;$+=j)L.push([_+y*Math.cos($),O+v*Math.sin($)]);return L.push([_+y*Math.cos(T),O+v*Math.sin(T)]),L.push([_,O]),E([L],b)}(e,s,t,n,o,h,p));return p.stroke!==P&&i.push(d),this._d("arc",i,p)}curve(e,s){const t=this._o(s),n=[],o=Ut(e,t);if(t.fill&&t.fill!==P&&e.length>=3){const h=Tt(function(a,c=0){const p=a.length;if(p<3)throw new Error("A curve must have at least three points.");const i=[];if(p===3)i.push(R(a[0]),R(a[1]),R(a[2]),R(a[2]));else{const d=[];d.push(a[0],a[0]);for(let l=1;l<a.length;l++)d.push(a[l]),l===a.length-1&&d.push(a[l]);const f=[],u=1-c;i.push(R(d[0]));for(let l=1;l+2<d.length;l++){const M=d[l];f[0]=[M[0],M[1]],f[1]=[M[0]+(u*d[l+1][0]-u*d[l-1][0])/6,M[1]+(u*d[l+1][1]-u*d[l-1][1])/6],f[2]=[d[l+1][0]+(u*d[l][0]-u*d[l+2][0])/6,d[l+1][1]+(u*d[l][1]-u*d[l+2][1])/6],f[3]=[d[l+1][0],d[l+1][1]],i.push(f[1],f[2],f[3])}}return i}(e),10,(1+t.roughness)/2);t.fillStyle==="solid"?n.push(Z([h],t)):n.push(E([h],t))}return t.stroke!==P&&n.push(o),this._d("curve",n,t)}polygon(e,s){const t=this._o(s),n=[],o=N(e,!0,t);return t.fill&&(t.fillStyle==="solid"?n.push(Z([e],t)):n.push(E([e],t))),t.stroke!==P&&n.push(o),this._d("polygon",n,t)}path(e,s){const t=this._o(s),n=[];if(!e)return this._d("path",n,t);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=t.fill&&t.fill!=="transparent"&&t.fill!==P,h=t.stroke!==P,a=!!(t.simplification&&t.simplification<1),c=function(p,i,d){const f=vt(xt(lt(p))),u=[];let l=[],M=[0,0],g=[];const k=()=>{g.length>=4&&l.push(...Tt(g,i)),g=[]},b=()=>{k(),l.length&&(u.push(l),l=[])};for(const{key:O,data:y}of f)switch(O){case"M":b(),M=[y[0],y[1]],l.push(M);break;case"L":k(),l.push([y[0],y[1]]);break;case"C":if(!g.length){const v=l.length?l[l.length-1]:M;g.push([v[0],v[1]])}g.push([y[0],y[1]]),g.push([y[2],y[3]]),g.push([y[4],y[5]]);break;case"Z":k(),l.push([M[0],M[1]])}if(b(),!d)return u;const _=[];for(const O of u){const y=te(O,d);y.length&&_.push(y)}return _}(e,1,a?4-4*t.simplification:(1+t.roughness)/2);return o&&(t.fillStyle==="solid"?n.push(Z(c,t)):n.push(E(c,t))),h&&(a?c.forEach(p=>{n.push(N(p,!1,t))}):n.push(function(p,i){const d=vt(xt(lt(p))),f=[];let u=[0,0],l=[0,0];for(const{key:M,data:g}of d)switch(M){case"M":{const k=1*(i.maxRandomnessOffset||0),b=i.preserveVertices;f.push({op:"move",data:g.map(_=>_+(b?0:m(k,i)))}),l=[g[0],g[1]],u=[g[0],g[1]];break}case"L":f.push(...A(l[0],l[1],g[0],g[1],i)),l=[g[0],g[1]];break;case"C":{const[k,b,_,O,y,v]=g;f.push(...Xt(k,b,_,O,y,v,l,i)),l=[y,v];break}case"Z":f.push(...A(l[0],l[1],u[0],u[1],i)),l=[u[0],u[1]]}return{type:"path",ops:f}}(e,t))),this._d("path",n,t)}opsToPath(e,s){let t="";for(const n of e.ops){const o=typeof s=="number"&&s>=0?n.data.map(h=>+h.toFixed(s)):n.data;switch(n.op){case"move":t+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":t+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":t+=`L${o[0]} ${o[1]} `}}return t.trim()}toPaths(e){const s=e.sets||[],t=e.options||this.defaultOptions,n=[];for(const o of s){let h=null;switch(o.type){case"path":h={d:this.opsToPath(o),stroke:t.stroke,strokeWidth:t.strokeWidth,fill:P};break;case"fillPath":h={d:this.opsToPath(o),stroke:P,strokeWidth:0,fill:t.fill||P};break;case"fillSketch":h=this.fillSketch(o,t)}h&&n.push(h)}return n}fillSketch(e,s){let t=s.fillWeight;return t<0&&(t=s.strokeWidth/2),{d:this.opsToPath(e),stroke:s.fill||P,strokeWidth:t,fill:P}}}class ee{constructor(e,s){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new X(s)}draw(e){const s=e.sets||[],t=e.options||this.getDefaultOptions(),n=this.ctx,o=e.options.fixedDecimalPlaceDigits;for(const h of s)switch(h.type){case"path":n.save(),n.strokeStyle=t.stroke==="none"?"transparent":t.stroke,n.lineWidth=t.strokeWidth,t.strokeLineDash&&n.setLineDash(t.strokeLineDash),t.strokeLineDashOffset&&(n.lineDashOffset=t.strokeLineDashOffset),this._drawToContext(n,h,o),n.restore();break;case"fillPath":{n.save(),n.fillStyle=t.fill||"";const a=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,h,o,a),n.restore();break}case"fillSketch":this.fillSketch(n,h,t)}}fillSketch(e,s,t){let n=t.fillWeight;n<0&&(n=t.strokeWidth/2),e.save(),t.fillLineDash&&e.setLineDash(t.fillLineDash),t.fillLineDashOffset&&(e.lineDashOffset=t.fillLineDashOffset),e.strokeStyle=t.fill||"",e.lineWidth=n,this._drawToContext(e,s,t.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,s,t,n="nonzero"){e.beginPath();for(const o of s.ops){const h=typeof t=="number"&&t>=0?o.data.map(a=>+a.toFixed(t)):o.data;switch(o.op){case"move":e.moveTo(h[0],h[1]);break;case"bcurveTo":e.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"lineTo":e.lineTo(h[0],h[1])}}s.type==="fillPath"?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,s,t,n,o){const h=this.gen.line(e,s,t,n,o);return this.draw(h),h}rectangle(e,s,t,n,o){const h=this.gen.rectangle(e,s,t,n,o);return this.draw(h),h}ellipse(e,s,t,n,o){const h=this.gen.ellipse(e,s,t,n,o);return this.draw(h),h}circle(e,s,t,n){const o=this.gen.circle(e,s,t,n);return this.draw(o),o}linearPath(e,s){const t=this.gen.linearPath(e,s);return this.draw(t),t}polygon(e,s){const t=this.gen.polygon(e,s);return this.draw(t),t}arc(e,s,t,n,o,h,a=!1,c){const p=this.gen.arc(e,s,t,n,o,h,a,c);return this.draw(p),p}curve(e,s){const t=this.gen.curve(e,s);return this.draw(t),t}path(e,s){const t=this.gen.path(e,s);return this.draw(t),t}}const Q="http://www.w3.org/2000/svg";class se{constructor(e,s){this.svg=e,this.gen=new X(s)}draw(e){const s=e.sets||[],t=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,o=n.createElementNS(Q,"g"),h=e.options.fixedDecimalPlaceDigits;for(const a of s){let c=null;switch(a.type){case"path":c=n.createElementNS(Q,"path"),c.setAttribute("d",this.opsToPath(a,h)),c.setAttribute("stroke",t.stroke),c.setAttribute("stroke-width",t.strokeWidth+""),c.setAttribute("fill","none"),t.strokeLineDash&&c.setAttribute("stroke-dasharray",t.strokeLineDash.join(" ").trim()),t.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${t.strokeLineDashOffset}`);break;case"fillPath":c=n.createElementNS(Q,"path"),c.setAttribute("d",this.opsToPath(a,h)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",t.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(n,a,t)}c&&o.appendChild(c)}return o}fillSketch(e,s,t){let n=t.fillWeight;n<0&&(n=t.strokeWidth/2);const o=e.createElementNS(Q,"path");return o.setAttribute("d",this.opsToPath(s,t.fixedDecimalPlaceDigits)),o.setAttribute("stroke",t.fill||""),o.setAttribute("stroke-width",n+""),o.setAttribute("fill","none"),t.fillLineDash&&o.setAttribute("stroke-dasharray",t.fillLineDash.join(" ").trim()),t.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${t.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,s){return this.gen.opsToPath(e,s)}line(e,s,t,n,o){const h=this.gen.line(e,s,t,n,o);return this.draw(h)}rectangle(e,s,t,n,o){const h=this.gen.rectangle(e,s,t,n,o);return this.draw(h)}ellipse(e,s,t,n,o){const h=this.gen.ellipse(e,s,t,n,o);return this.draw(h)}circle(e,s,t,n){const o=this.gen.circle(e,s,t,n);return this.draw(o)}linearPath(e,s){const t=this.gen.linearPath(e,s);return this.draw(t)}polygon(e,s){const t=this.gen.polygon(e,s);return this.draw(t)}arc(e,s,t,n,o,h,a=!1,c){const p=this.gen.arc(e,s,t,n,o,h,a,c);return this.draw(p)}curve(e,s){const t=this.gen.curve(e,s);return this.draw(t)}path(e,s){const t=this.gen.path(e,s);return this.draw(t)}}var ne={canvas:(r,e)=>new ee(r,e),svg:(r,e)=>new se(r,e),generator:r=>new X(r),newSeed:()=>X.newSeed()};function ae(r){let e,s;return{c(){e=Mt("div"),s=Mt("canvas"),this.h()},l(t){e=kt(t,"DIV",{class:!0});var n=mt(e);s=kt(n,"CANVAS",{class:!0}),mt(s).forEach(q),n.forEach(q),this.h()},h(){bt(s,"class","svelte-5drtw4"),bt(e,"class","calendar svelte-5drtw4")},m(t,n){ct(t,e,n),Rt(e,s),r[2](s)},p:H,i:H,o:H,d(t){t&&q(e),r[2](null)}}}let oe=100,re=1100;function he(r,e,s){let{activeColor:t="limegreen"}=e,n;qt(async()=>{let h=ne.canvas(n);s(0,n.width=re,n),s(0,n.height=oe,n),await Vt(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;for(let a=0;a<73;a+=1){const c=a*14+2;for(let p=0;p<7;p+=1){const i=p*14+2;h.rectangle(c,i,10,10,{stroke:t,fill:t,hachureAngle:33,hachureGap:3})}}});function o(h){jt[h?"unshift":"push"](()=>{n=h,s(0,n)})}return r.$$set=h=>{"activeColor"in h&&s(1,t=h.activeColor)},[n,t,o]}class it extends Ct{constructor(e){super(),Dt(this,e,he,ae,At,{activeColor:1})}}function ie(r){let e,s,t,n,o,h;return e=new it({}),t=new it({props:{activeColor:"gold"}}),o=new it({props:{activeColor:"purple"}}),{c(){tt(e.$$.fragment),s=yt(),tt(t.$$.fragment),n=yt(),tt(o.$$.fragment)},l(a){et(e.$$.fragment,a),s=wt(a),et(t.$$.fragment,a),n=wt(a),et(o.$$.fragment,a)},m(a,c){st(e,a,c),ct(a,s,c),st(t,a,c),ct(a,n,c),st(o,a,c),h=!0},p:H,i(a){h||(nt(e.$$.fragment,a),nt(t.$$.fragment,a),nt(o.$$.fragment,a),h=!0)},o(a){at(e.$$.fragment,a),at(t.$$.fragment,a),at(o.$$.fragment,a),h=!1},d(a){ot(e,a),a&&q(s),ot(t,a),a&&q(n),ot(o,a)}}}class le extends Ct{constructor(e){super(),Dt(this,e,null,ie,At,{})}}export{le as default};
