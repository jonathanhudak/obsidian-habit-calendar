var Be=Object.defineProperty;var Je=(n,t,e)=>t in n?Be(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var H=(n,t,e)=>(Je(n,typeof t!="symbol"?t+"":t,e),e);import{S as X,i as Y,s as $,C as Ke,k as st,a as te,l as nt,m as it,h as I,c as ee,n as q,p as Ue,b as Z,I as b,D as Xe,E as Ye,F as $e,f as G,t as Q,J as ts,K as es,o as se,L as ne,M as v,N as Ct,O as ss,B as J,P as Et,Q as ns,w as rt,x as ot,y as at,z as ht,H as is,R as rs,T as os,e as Wt,g as as,d as hs,U as ls}from"../../chunks/index-c6ca5b2d.js";import{r as cs,w as us}from"../../chunks/index-40b98a6e.js";class fs{constructor(){H(this,"currentLayerId");H(this,"setups");H(this,"renderers");H(this,"needsSetup");H(this,"needsResize");H(this,"needsRedraw");H(this,"layerSequence");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:t,render:e}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,e),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.needsRedraw=!0}render({autoclear:t,pixelRatio:e,context:s,width:i,height:r}){var o;const a={context:s,width:i,height:r};if(this.needsResize&&(s.setTransform(e,0,0,e,0,0),this.needsResize=!1),this.needsSetup){for(const[h,f]of this.setups)f(a),this.setups.delete(h);this.needsSetup=!1}if(this.needsRedraw){t&&s.clearRect(0,0,i,r);for(const h of this.layerSequence)(o=this.renderers.get(h))==null||o(a);this.needsRedraw=!1}}}function ds(n){let t,e,s,i,r,a,o,h,f;const u=n[13].default,d=Ke(u,n,n[12],null);return{c(){t=st("canvas"),r=te(),a=st("div"),d&&d.c(),this.h()},l(p){t=nt(p,"CANVAS",{style:!0,width:!0,height:!0,class:!0}),it(t).forEach(I),r=ee(p),a=nt(p,"DIV",{style:!0});var c=it(a);d&&d.l(c),c.forEach(I),this.h()},h(){q(t,"style",e="display: block; width: "+n[1]+"px; height: "+n[2]+"px;"+(n[3]?` ${n[3]}`:"")),q(t,"width",s=n[1]*(n[0]??1)),q(t,"height",i=n[2]*(n[0]??1)),q(t,"class",n[4]),Ue(a,"display","none")},m(p,c){Z(p,t,c),n[59](t),Z(p,r,c),Z(p,a,c),d&&d.m(a,null),n[60](a),o=!0,h||(f=[b(t,"focus",n[14]),b(t,"blur",n[15]),b(t,"fullscreenchange",n[16]),b(t,"fullscreenerror",n[17]),b(t,"scroll",n[18]),b(t,"cut",n[19]),b(t,"copy",n[20]),b(t,"paste",n[21]),b(t,"keydown",n[22]),b(t,"keypress",n[23]),b(t,"keyup",n[24]),b(t,"auxclick",n[25]),b(t,"click",n[26]),b(t,"contextmenu",n[27]),b(t,"dblclick",n[28]),b(t,"mousedown",n[29]),b(t,"mouseenter",n[30]),b(t,"mouseleave",n[31]),b(t,"mousemove",n[32]),b(t,"mouseover",n[33]),b(t,"mouseout",n[34]),b(t,"mouseup",n[35]),b(t,"select",n[36]),b(t,"wheel",n[37]),b(t,"drag",n[38]),b(t,"dragend",n[39]),b(t,"dragenter",n[40]),b(t,"dragstart",n[41]),b(t,"dragleave",n[42]),b(t,"dragover",n[43]),b(t,"drop",n[44]),b(t,"touchcancel",n[45]),b(t,"touchend",n[46]),b(t,"touchmove",n[47]),b(t,"touchstart",n[48]),b(t,"pointerover",n[49]),b(t,"pointerenter",n[50]),b(t,"pointerdown",n[51]),b(t,"pointermove",n[52]),b(t,"pointerup",n[53]),b(t,"pointercancel",n[54]),b(t,"pointerout",n[55]),b(t,"pointerleave",n[56]),b(t,"gotpointercapture",n[57]),b(t,"lostpointercapture",n[58])],h=!0)},p(p,c){(!o||c[0]&14&&e!==(e="display: block; width: "+p[1]+"px; height: "+p[2]+"px;"+(p[3]?` ${p[3]}`:"")))&&q(t,"style",e),(!o||c[0]&3&&s!==(s=p[1]*(p[0]??1)))&&q(t,"width",s),(!o||c[0]&5&&i!==(i=p[2]*(p[0]??1)))&&q(t,"height",i),(!o||c[0]&16)&&q(t,"class",p[4]),d&&d.p&&(!o||c[0]&4096)&&Xe(d,u,p,p[12],o?$e(u,p[12],c,null):Ye(p[12]),null)},i(p){o||(G(d,p),o=!0)},o(p){Q(d,p),o=!1},d(p){p&&I(t),n[59](null),p&&I(r),p&&I(a),d&&d.d(p),n[60](null),h=!1,ts(f)}}}const ie=Symbol(),ps=()=>ss(ie);function gs(n,t,e){let{$$slots:s={},$$scope:i}=t,{width:r=640,height:a=640,pixelRatio:o=null,style:h="",autoclear:f=!0}=t,{class:u=""}=t,d,p=null,c,l,m;const g=new fs;function _(){g.redraw()}function w(){return d}function M(){return p}o==null&&(typeof window<"u"?o=window.devicePixelRatio:o=2);function P(){g.render({context:p,width:r,height:a,pixelRatio:o,autoclear:f}),c=window.requestAnimationFrame(P)}es(ie,{register:g.register,unregister:g.unregister,redraw:g.redraw}),se(()=>{p=d.getContext("2d"),m=new MutationObserver(k),m.observe(l,{childList:!0}),k(),P();function k(){const Qe=[...l.children].map(It=>It instanceof HTMLElement?parseInt(It.dataset.layerId??"-1"):-1);e(11,g.layerSequence=Qe,g),g.redraw()}}),ne(()=>{typeof window>"u"||(window.cancelAnimationFrame(c),m.disconnect())});function S(k){v.call(this,n,k)}function L(k){v.call(this,n,k)}function O(k){v.call(this,n,k)}function R(k){v.call(this,n,k)}function K(k){v.call(this,n,k)}function A(k){v.call(this,n,k)}function F(k){v.call(this,n,k)}function ct(k){v.call(this,n,k)}function D(k){v.call(this,n,k)}function z(k){v.call(this,n,k)}function E(k){v.call(this,n,k)}function N(k){v.call(this,n,k)}function V(k){v.call(this,n,k)}function vt(k){v.call(this,n,k)}function St(k){v.call(this,n,k)}function ut(k){v.call(this,n,k)}function ge(k){v.call(this,n,k)}function me(k){v.call(this,n,k)}function ke(k){v.call(this,n,k)}function _e(k){v.call(this,n,k)}function ye(k){v.call(this,n,k)}function we(k){v.call(this,n,k)}function Me(k){v.call(this,n,k)}function be(k){v.call(this,n,k)}function ve(k){v.call(this,n,k)}function Se(k){v.call(this,n,k)}function Pe(k){v.call(this,n,k)}function Oe(k){v.call(this,n,k)}function Le(k){v.call(this,n,k)}function Ce(k){v.call(this,n,k)}function ze(k){v.call(this,n,k)}function Re(k){v.call(this,n,k)}function De(k){v.call(this,n,k)}function Te(k){v.call(this,n,k)}function Ae(k){v.call(this,n,k)}function xe(k){v.call(this,n,k)}function Ie(k){v.call(this,n,k)}function Ee(k){v.call(this,n,k)}function We(k){v.call(this,n,k)}function qe(k){v.call(this,n,k)}function Fe(k){v.call(this,n,k)}function Ge(k){v.call(this,n,k)}function je(k){v.call(this,n,k)}function Ne(k){v.call(this,n,k)}function Ve(k){v.call(this,n,k)}function He(k){Ct[k?"unshift":"push"](()=>{d=k,e(5,d)})}function Ze(k){Ct[k?"unshift":"push"](()=>{l=k,e(6,l)})}return n.$$set=k=>{"width"in k&&e(1,r=k.width),"height"in k&&e(2,a=k.height),"pixelRatio"in k&&e(0,o=k.pixelRatio),"style"in k&&e(3,h=k.style),"autoclear"in k&&e(7,f=k.autoclear),"class"in k&&e(4,u=k.class),"$$scope"in k&&e(12,i=k.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2183&&g.resize()},[o,r,a,h,u,d,l,f,_,w,M,g,i,s,S,L,O,R,K,A,F,ct,D,z,E,N,V,vt,St,ut,ge,me,ke,_e,ye,we,Me,be,ve,Se,Pe,Oe,Le,Ce,ze,Re,De,Te,Ae,xe,Ie,Ee,We,qe,Fe,Ge,je,Ne,Ve,He,Ze]}class ms extends X{constructor(t){super(),Y(this,t,gs,ds,$,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,class:4,redraw:8,getCanvas:9,getContext:10},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function ks(n){let t;return{c(){t=st("div"),this.h()},l(e){t=nt(e,"DIV",{"data-layer-id":!0}),it(t).forEach(I),this.h()},h(){q(t,"data-layer-id",n[0])},m(e,s){Z(e,t,s)},p:J,i:J,o:J,d(e){e&&I(t)}}}function _s(n,t,e){const{register:s,unregister:i,redraw:r}=ps();let{setup:a=void 0}=t,{render:o=()=>{}}=t;const h=s({setup:a,render:o});return ne(()=>i(h)),n.$$set=f=>{"setup"in f&&e(1,a=f.setup),"render"in f&&e(2,o=f.render)},n.$$.update=()=>{n.$$.dirty&4&&r()},[h,a,o]}class ys extends X{constructor(t){super(),Y(this,t,_s,ks,$,{setup:1,render:2})}}let qt;const re=Date.now(),oe=n=>(n(Date.now()-re),qt=window.requestAnimationFrame(()=>oe(n)),()=>window.cancelAnimationFrame(qt));function ws(){}cs(Date.now()-re,typeof window>"u"?ws:oe);function Ft(n){return Object.prototype.toString.call(n)==="[object Date]"}function zt(n,t,e,s){if(typeof e=="number"||Ft(e)){const i=s-e,r=(e-t)/(n.dt||1/60),a=n.opts.stiffness*i,o=n.opts.damping*r,h=(a-o)*n.inv_mass,f=(r+h)*n.dt;return Math.abs(f)<n.opts.precision&&Math.abs(i)<n.opts.precision?s:(n.settled=!1,Ft(e)?new Date(e.getTime()+f):e+f)}else{if(Array.isArray(e))return e.map((i,r)=>zt(n,t[r],e[r],s[r]));if(typeof e=="object"){const i={};for(const r in e)i[r]=zt(n,t[r],e[r],s[r]);return i}else throw new Error(`Cannot spring ${typeof e} values`)}}function Ms(n,t={}){const e=us(n),{stiffness:s=.15,damping:i=.8,precision:r=.01}=t;let a,o,h,f=n,u=n,d=1,p=0,c=!1;function l(g,_={}){u=g;const w=h={};return n==null||_.hard||m.stiffness>=1&&m.damping>=1?(c=!0,a=Et(),f=g,e.set(n=u),Promise.resolve()):(_.soft&&(p=1/((_.soft===!0?.5:+_.soft)*60),d=0),o||(a=Et(),c=!1,o=ns(M=>{if(c)return c=!1,o=null,!1;d=Math.min(d+p,1);const P={inv_mass:d,opts:m,settled:!0,dt:(M-a)*60/1e3},S=zt(P,f,n,u);return a=M,f=n,e.set(n=S),P.settled&&(o=null),!P.settled})),new Promise(M=>{o.promise.then(()=>{w===h&&M()})}))}const m={set:l,update:(g,_)=>l(g(u,n),_),subscribe:e.subscribe,stiffness:s,damping:i,precision:r};return m}function bs(n){let t,e;return t=new ys({props:{render:n[0]}}),{c(){rt(t.$$.fragment)},l(s){ot(t.$$.fragment,s)},m(s,i){at(t,s,i),e=!0},p(s,[i]){const r={};i&1&&(r.render=s[0]),t.$set(r)},i(s){e||(G(t.$$.fragment,s),e=!0)},o(s){Q(t.$$.fragment,s),e=!1},d(s){ht(t,s)}}}function vs(n,t,e){let s,i,{x:r=0,y:a=0,r:o=1,stroke:h=null,strokeWidth:f=3}=t;const u=Ms(o,{stiffness:.15,damping:.3});return is(n,u,d=>e(7,i=d)),n.$$set=d=>{"x"in d&&e(2,r=d.x),"y"in d&&e(3,a=d.y),"r"in d&&e(4,o=d.r),"stroke"in d&&e(5,h=d.stroke),"strokeWidth"in d&&e(6,f=d.strokeWidth)},n.$$.update=()=>{n.$$.dirty&16&&u.set(o),n.$$.dirty&236&&e(0,s=({context:d})=>{d.fillStyle=h||"gray",d.beginPath(),d.arc(r,a,i,0,2*Math.PI),d.fill(),h&&(d.strokeStyle=h,d.lineWidth=f,d.beginPath(),d.arc(r,a,i+f/2,0,2*Math.PI),d.stroke())})},[s,u,r,a,o,h,f,i]}class Ss extends X{constructor(t){super(),Y(this,t,vs,bs,$,{x:2,y:3,r:4,stroke:5,strokeWidth:6})}}function Gt(n,t,e){const s=n.slice();return s[11]=t[e].x,s[12]=t[e].y,s[13]=t[e].r,s[14]=t[e].id,s}function jt(n){let t,e;return t=new Ss({props:{x:n[11],y:n[12],r:n[2]===n[14]?5:3,stroke:n[2]===n[14]?"gold":null}}),{c(){rt(t.$$.fragment)},l(s){ot(t.$$.fragment,s)},m(s,i){at(t,s,i),e=!0},p(s,i){const r={};i&4&&(r.r=s[2]===s[14]?5:3),i&4&&(r.stroke=s[2]===s[14]?"gold":null),t.$set(r)},i(s){e||(G(t.$$.fragment,s),e=!0)},o(s){Q(t.$$.fragment,s),e=!1},d(s){ht(t,s)}}}function Ps(n){let t,e,s=n[4],i=[];for(let a=0;a<s.length;a+=1)i[a]=jt(Gt(n,s,a));const r=a=>Q(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=Wt()},l(a){for(let o=0;o<i.length;o+=1)i[o].l(a);t=Wt()},m(a,o){for(let h=0;h<i.length;h+=1)i[h].m(a,o);Z(a,t,o),e=!0},p(a,o){if(o&20){s=a[4];let h;for(h=0;h<s.length;h+=1){const f=Gt(a,s,h);i[h]?(i[h].p(f,o),G(i[h],1)):(i[h]=jt(f),i[h].c(),G(i[h],1),i[h].m(t.parentNode,t))}for(as(),h=s.length;h<i.length;h+=1)r(h);hs()}},i(a){if(!e){for(let o=0;o<s.length;o+=1)G(i[o]);e=!0}},o(a){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)Q(i[o]);e=!1},d(a){ls(i,a),a&&I(t)}}}function Os(n){let t,e,s,i;return e=new ms({props:{width:n[0],height:n[1],style:"cursor: pointer",$$slots:{default:[Ps]},$$scope:{ctx:n}}}),e.$on("mousemove",n[5]),e.$on("mousedown",n[6]),e.$on("mouseup",n[7]),e.$on("mouseout",n[8]),{c(){t=st("div"),rt(e.$$.fragment),this.h()},l(r){t=nt(r,"DIV",{class:!0});var a=it(t);ot(e.$$.fragment,a),a.forEach(I),this.h()},h(){q(t,"class","svelte-1fkge7j"),rs(()=>n[9].call(t))},m(r,a){Z(r,t,a),at(e,t,null),s=os(t,n[9].bind(t)),i=!0},p(r,[a]){const o={};a&1&&(o.width=r[0]),a&2&&(o.height=r[1]),a&131076&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(r){i||(G(e.$$.fragment,r),i=!0)},o(r){Q(e.$$.fragment,r),i=!1},d(r){r&&I(t),ht(e),s()}}}let ae=5;function Ls(n){return 10+n*ae*10}function Cs(n,t,e){let s=Array(7).fill(null).map((c,l)=>({x:Ls(l),y:10,r:ae,id:`day${l}`})),i,r,a=null,o=!1;const h=({clientX:c,clientY:l})=>{if(l<10||l>20){e(2,a=null);return}const m=s.find(g=>c>g.x&&c<g.x+50);m&&e(2,a=m.id)},f=()=>e(3,o=!0),u=()=>e(3,o=!1),d=()=>e(2,a=null);function p(){i=this.clientWidth,r=this.clientHeight,e(0,i),e(1,r)}return[i,r,a,o,s,h,f,u,d,p]}class zs extends X{constructor(t){super(),Y(this,t,Cs,Os,$,{})}}function Pt(n,t,e){if(n&&n.length){const[s,i]=t,r=Math.PI/180*e,a=Math.cos(r),o=Math.sin(r);n.forEach(h=>{const[f,u]=h;h[0]=(f-s)*a-(u-i)*o+s,h[1]=(f-s)*o+(u-i)*a+i})}}function bt(n){const t=n[0],e=n[1];return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function lt(n,t){const e=t.hachureAngle+90;let s=t.hachureGap;s<0&&(s=4*t.strokeWidth),s=Math.max(s,.1);const i=[0,0];if(e)for(const a of n)Pt(a,i,e);const r=function(a,o){const h=[];for(const c of a){const l=[...c];l[0].join(",")!==l[l.length-1].join(",")&&l.push([l[0][0],l[0][1]]),l.length>2&&h.push(l)}const f=[];o=Math.max(o,.1);const u=[];for(const c of h)for(let l=0;l<c.length-1;l++){const m=c[l],g=c[l+1];if(m[1]!==g[1]){const _=Math.min(m[1],g[1]);u.push({ymin:_,ymax:Math.max(m[1],g[1]),x:_===m[1]?m[0]:g[0],islope:(g[0]-m[0])/(g[1]-m[1])})}}if(u.sort((c,l)=>c.ymin<l.ymin?-1:c.ymin>l.ymin?1:c.x<l.x?-1:c.x>l.x?1:c.ymax===l.ymax?0:(c.ymax-l.ymax)/Math.abs(c.ymax-l.ymax)),!u.length)return f;let d=[],p=u[0].ymin;for(;d.length||u.length;){if(u.length){let c=-1;for(let l=0;l<u.length&&!(u[l].ymin>p);l++)c=l;u.splice(0,c+1).forEach(l=>{d.push({s:p,edge:l})})}if(d=d.filter(c=>!(c.edge.ymax<=p)),d.sort((c,l)=>c.edge.x===l.edge.x?0:(c.edge.x-l.edge.x)/Math.abs(c.edge.x-l.edge.x)),d.length>1)for(let c=0;c<d.length;c+=2){const l=c+1;if(l>=d.length)break;const m=d[c].edge,g=d[l].edge;f.push([[Math.round(m.x),p],[Math.round(g.x),p]])}p+=o,d.forEach(c=>{c.edge.x=c.edge.x+o*c.edge.islope})}return f}(n,s);if(e){for(const a of n)Pt(a,i,-e);(function(a,o,h){const f=[];a.forEach(u=>f.push(...u)),Pt(f,o,h)})(r,i,-e)}return r}let xt=class{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const s=lt(t,e);return{type:"fillSketch",ops:this.renderLines(s,e)}}renderLines(t,e){const s=[];for(const i of t)s.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],e));return s}},Rs=class extends xt{fillPolygons(t,e){let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);const i=lt(t,Object.assign({},e,{hachureGap:s})),r=Math.PI/180*e.hachureAngle,a=[],o=.5*s*Math.cos(r),h=.5*s*Math.sin(r);for(const[f,u]of i)bt([f,u])&&a.push([[f[0]-o,f[1]+h],[...u]],[[f[0]+o,f[1]-h],[...u]]);return{type:"fillSketch",ops:this.renderLines(a,e)}}},Ds=class extends xt{fillPolygons(t,e){const s=this._fillPolygons(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),r=this._fillPolygons(t,i);return s.ops=s.ops.concat(r.ops),s}},Ts=class{constructor(t){this.helper=t}fillPolygons(t,e){const s=lt(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(s,e)}dotsOnLines(t,e){const s=[];let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.max(i,.1);let r=e.fillWeight;r<0&&(r=e.strokeWidth/2);const a=i/4;for(const o of t){const h=bt(o),f=h/i,u=Math.ceil(f)-1,d=h-u*i,p=(o[0][0]+o[1][0])/2-i/4,c=Math.min(o[0][1],o[1][1]);for(let l=0;l<u;l++){const m=c+d+l*i,g=p-a+2*Math.random()*a,_=m-a+2*Math.random()*a,w=this.helper.ellipse(g,_,r,r,e);s.push(...w.ops)}}return{type:"fillSketch",ops:s}}},As=class{constructor(t){this.helper=t}fillPolygons(t,e){const s=lt(t,e);return{type:"fillSketch",ops:this.dashedLine(s,e)}}dashedLine(t,e){const s=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,i=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,r=[];return t.forEach(a=>{const o=bt(a),h=Math.floor(o/(s+i)),f=(o+i-h*(s+i))/2;let u=a[0],d=a[1];u[0]>d[0]&&(u=a[1],d=a[0]);const p=Math.atan((d[1]-u[1])/(d[0]-u[0]));for(let c=0;c<h;c++){const l=c*(s+i),m=l+s,g=[u[0]+l*Math.cos(p)+f*Math.cos(p),u[1]+l*Math.sin(p)+f*Math.sin(p)],_=[u[0]+m*Math.cos(p)+f*Math.cos(p),u[1]+m*Math.sin(p)+f*Math.sin(p)];r.push(...this.helper.doubleLineOps(g[0],g[1],_[0],_[1],e))}}),r}},xs=class{constructor(t){this.helper=t}fillPolygons(t,e){const s=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,i=e.zigzagOffset<0?s:e.zigzagOffset,r=lt(t,e=Object.assign({},e,{hachureGap:s+i}));return{type:"fillSketch",ops:this.zigzagLines(r,i,e)}}zigzagLines(t,e,s){const i=[];return t.forEach(r=>{const a=bt(r),o=Math.round(a/(2*e));let h=r[0],f=r[1];h[0]>f[0]&&(h=r[1],f=r[0]);const u=Math.atan((f[1]-h[1])/(f[0]-h[0]));for(let d=0;d<o;d++){const p=2*d*e,c=2*(d+1)*e,l=Math.sqrt(2*Math.pow(e,2)),m=[h[0]+p*Math.cos(u),h[1]+p*Math.sin(u)],g=[h[0]+c*Math.cos(u),h[1]+c*Math.sin(u)],_=[m[0]+l*Math.cos(u+Math.PI/4),m[1]+l*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],_[0],_[1],s),...this.helper.doubleLineOps(_[0],_[1],g[0],g[1],s))}}),i}};const T={};let Is=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const ft={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Ot(n,t){return n.type===t}function Rt(n){const t=[],e=function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:0,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:1,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:2,text:""},o}(n);let s="BOD",i=0,r=e[i];for(;!Ot(r,2);){let a=0;const o=[];if(s==="BOD"){if(r.text!=="M"&&r.text!=="m")return Rt("M0,0"+n);i++,a=ft[r.text],s=r.text}else Ot(r,1)?a=ft[s]:(i++,a=ft[r.text],s=r.text);if(!(i+a<e.length))throw new Error("Path data ended short");for(let h=i;h<i+a;h++){const f=e[h];if(!Ot(f,1))throw new Error("Param not a number: "+s+","+f.text);o[o.length]=+f.text}if(typeof ft[s]!="number")throw new Error("Bad segment: "+s);{const h={key:s,data:o};t.push(h),i+=a,r=e[i],s==="M"&&(s="L"),s==="m"&&(s="l")}}return t}function Nt(n){let t=0,e=0,s=0,i=0;const r=[];for(const{key:a,data:o}of n)switch(a){case"M":r.push({key:"M",data:[...o]}),[t,e]=o,[s,i]=o;break;case"m":t+=o[0],e+=o[1],r.push({key:"M",data:[t,e]}),s=t,i=e;break;case"L":r.push({key:"L",data:[...o]}),[t,e]=o;break;case"l":t+=o[0],e+=o[1],r.push({key:"L",data:[t,e]});break;case"C":r.push({key:"C",data:[...o]}),t=o[4],e=o[5];break;case"c":{const h=o.map((f,u)=>u%2?f+e:f+t);r.push({key:"C",data:h}),t=h[4],e=h[5];break}case"Q":r.push({key:"Q",data:[...o]}),t=o[2],e=o[3];break;case"q":{const h=o.map((f,u)=>u%2?f+e:f+t);r.push({key:"Q",data:h}),t=h[2],e=h[3];break}case"A":r.push({key:"A",data:[...o]}),t=o[5],e=o[6];break;case"a":t+=o[5],e+=o[6],r.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,e]});break;case"H":r.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],r.push({key:"H",data:[t]});break;case"V":r.push({key:"V",data:[...o]}),e=o[0];break;case"v":e+=o[0],r.push({key:"V",data:[e]});break;case"S":r.push({key:"S",data:[...o]}),t=o[2],e=o[3];break;case"s":{const h=o.map((f,u)=>u%2?f+e:f+t);r.push({key:"S",data:h}),t=h[2],e=h[3];break}case"T":r.push({key:"T",data:[...o]}),t=o[0],e=o[1];break;case"t":t+=o[0],e+=o[1],r.push({key:"T",data:[t,e]});break;case"Z":case"z":r.push({key:"Z",data:[]}),t=s,e=i}return r}function Vt(n){const t=[];let e="",s=0,i=0,r=0,a=0,o=0,h=0;for(const{key:f,data:u}of n){switch(f){case"M":t.push({key:"M",data:[...u]}),[s,i]=u,[r,a]=u;break;case"C":t.push({key:"C",data:[...u]}),s=u[4],i=u[5],o=u[2],h=u[3];break;case"L":t.push({key:"L",data:[...u]}),[s,i]=u;break;case"H":s=u[0],t.push({key:"L",data:[s,i]});break;case"V":i=u[0],t.push({key:"L",data:[s,i]});break;case"S":{let d=0,p=0;e==="C"||e==="S"?(d=s+(s-o),p=i+(i-h)):(d=s,p=i),t.push({key:"C",data:[d,p,...u]}),o=u[0],h=u[1],s=u[2],i=u[3];break}case"T":{const[d,p]=u;let c=0,l=0;e==="Q"||e==="T"?(c=s+(s-o),l=i+(i-h)):(c=s,l=i);const m=s+2*(c-s)/3,g=i+2*(l-i)/3,_=d+2*(c-d)/3,w=p+2*(l-p)/3;t.push({key:"C",data:[m,g,_,w,d,p]}),o=c,h=l,s=d,i=p;break}case"Q":{const[d,p,c,l]=u,m=s+2*(d-s)/3,g=i+2*(p-i)/3,_=c+2*(d-c)/3,w=l+2*(p-l)/3;t.push({key:"C",data:[m,g,_,w,c,l]}),o=d,h=p,s=c,i=l;break}case"A":{const d=Math.abs(u[0]),p=Math.abs(u[1]),c=u[2],l=u[3],m=u[4],g=u[5],_=u[6];d===0||p===0?(t.push({key:"C",data:[s,i,g,_,g,_]}),s=g,i=_):(s!==g||i!==_)&&(he(s,i,g,_,d,p,c,l,m).forEach(function(w){t.push({key:"C",data:w})}),s=g,i=_);break}case"Z":t.push({key:"Z",data:[]}),s=r,i=a}e=f}return t}function tt(n,t,e){return[n*Math.cos(e)-t*Math.sin(e),n*Math.sin(e)+t*Math.cos(e)]}function he(n,t,e,s,i,r,a,o,h,f){const u=(d=a,Math.PI*d/180);var d;let p=[],c=0,l=0,m=0,g=0;if(f)[c,l,m,g]=f;else{[n,t]=tt(n,t,-u),[e,s]=tt(e,s,-u);const D=(n-e)/2,z=(t-s)/2;let E=D*D/(i*i)+z*z/(r*r);E>1&&(E=Math.sqrt(E),i*=E,r*=E);const N=i*i,V=r*r,vt=N*V-N*z*z-V*D*D,St=N*z*z+V*D*D,ut=(o===h?-1:1)*Math.sqrt(Math.abs(vt/St));m=ut*i*z/r+(n+e)/2,g=ut*-r*D/i+(t+s)/2,c=Math.asin(parseFloat(((t-g)/r).toFixed(9))),l=Math.asin(parseFloat(((s-g)/r).toFixed(9))),n<m&&(c=Math.PI-c),e<m&&(l=Math.PI-l),c<0&&(c=2*Math.PI+c),l<0&&(l=2*Math.PI+l),h&&c>l&&(c-=2*Math.PI),!h&&l>c&&(l-=2*Math.PI)}let _=l-c;if(Math.abs(_)>120*Math.PI/180){const D=l,z=e,E=s;l=h&&l>c?c+120*Math.PI/180*1:c+120*Math.PI/180*-1,p=he(e=m+i*Math.cos(l),s=g+r*Math.sin(l),z,E,i,r,a,0,h,[l,D,m,g])}_=l-c;const w=Math.cos(c),M=Math.sin(c),P=Math.cos(l),S=Math.sin(l),L=Math.tan(_/4),O=4/3*i*L,R=4/3*r*L,K=[n,t],A=[n+O*M,t-R*w],F=[e+O*S,s-R*P],ct=[e,s];if(A[0]=2*K[0]-A[0],A[1]=2*K[1]-A[1],f)return[A,F,ct].concat(p);{p=[A,F,ct].concat(p);const D=[];for(let z=0;z<p.length;z+=3){const E=tt(p[z][0],p[z][1],u),N=tt(p[z+1][0],p[z+1][1],u),V=tt(p[z+2][0],p[z+2][1],u);D.push([E[0],E[1],N[0],N[1],V[0],V[1]])}return D}}const Es={randOffset:function(n,t){return y(n,t)},randOffsetWithRange:function(n,t,e){return kt(n,t,e)},ellipse:function(n,t,e,s,i){const r=ce(e,s,i);return Dt(n,t,i,r).opset},doubleLineOps:function(n,t,e,s,i){return j(n,t,e,s,i,!0)}};function le(n,t,e,s,i){return{type:"path",ops:j(n,t,e,s,i)}}function gt(n,t,e){const s=(n||[]).length;if(s>2){const i=[];for(let r=0;r<s-1;r++)i.push(...j(n[r][0],n[r][1],n[r+1][0],n[r+1][1],e));return t&&i.push(...j(n[s-1][0],n[s-1][1],n[0][0],n[0][1],e)),{type:"path",ops:i}}return s===2?le(n[0][0],n[0][1],n[1][0],n[1][1],e):{type:"path",ops:[]}}function Ws(n,t,e,s,i){return function(r,a){return gt(r,!0,a)}([[n,t],[n+e,t],[n+e,t+s],[n,t+s]],i)}function qs(n,t){let e=Qt(n,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){const s=Qt(n,1.5*(1+.22*t.roughness),function(i){const r=Object.assign({},i);return r.randomizer=void 0,i.seed&&(r.seed=i.seed+1),r}(t));e=e.concat(s)}return{type:"path",ops:e}}function ce(n,t,e){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(n/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(e.curveStepCount,e.curveStepCount/Math.sqrt(200)*s)),r=2*Math.PI/i;let a=Math.abs(n/2),o=Math.abs(t/2);const h=1-e.curveFitting;return a+=y(a*h,e),o+=y(o*h,e),{increment:r,rx:a,ry:o}}function Dt(n,t,e,s){const[i,r]=Bt(s.increment,n,t,s.rx,s.ry,1,s.increment*kt(.1,kt(.4,1,e),e),e);let a=_t(i,null,e);if(!e.disableMultiStroke&&e.roughness!==0){const[o]=Bt(s.increment,n,t,s.rx,s.ry,1.5,0,e),h=_t(o,null,e);a=a.concat(h)}return{estimatedPoints:r,opset:{type:"path",ops:a}}}function Ht(n,t,e,s,i,r,a,o,h){const f=n,u=t;let d=Math.abs(e/2),p=Math.abs(s/2);d+=y(.01*d,h),p+=y(.01*p,h);let c=i,l=r;for(;c<0;)c+=2*Math.PI,l+=2*Math.PI;l-c>2*Math.PI&&(c=0,l=2*Math.PI);const m=2*Math.PI/h.curveStepCount,g=Math.min(m/2,(l-c)/2),_=Jt(g,f,u,d,p,c,l,1,h);if(!h.disableMultiStroke){const w=Jt(g,f,u,d,p,c,l,1.5,h);_.push(...w)}return a&&(o?_.push(...j(f,u,f+d*Math.cos(c),u+p*Math.sin(c),h),...j(f,u,f+d*Math.cos(l),u+p*Math.sin(l),h)):_.push({op:"lineTo",data:[f,u]},{op:"lineTo",data:[f+d*Math.cos(c),u+p*Math.sin(c)]})),{type:"path",ops:_}}function dt(n,t){const e=[];for(const s of n)if(s.length){const i=t.maxRandomnessOffset||0,r=s.length;if(r>2){e.push({op:"move",data:[s[0][0]+y(i,t),s[0][1]+y(i,t)]});for(let a=1;a<r;a++)e.push({op:"lineTo",data:[s[a][0]+y(i,t),s[a][1]+y(i,t)]})}}return{type:"fillPath",ops:e}}function U(n,t){return function(e,s){let i=e.fillStyle||"hachure";if(!T[i])switch(i){case"zigzag":T[i]||(T[i]=new Rs(s));break;case"cross-hatch":T[i]||(T[i]=new Ds(s));break;case"dots":T[i]||(T[i]=new Ts(s));break;case"dashed":T[i]||(T[i]=new As(s));break;case"zigzag-line":T[i]||(T[i]=new xs(s));break;case"hachure":default:i="hachure",T[i]||(T[i]=new xt(s))}return T[i]}(t,Es).fillPolygons(n,t)}function ue(n){return n.randomizer||(n.randomizer=new Is(n.seed||0)),n.randomizer.next()}function kt(n,t,e,s=1){return e.roughness*s*(ue(e)*(t-n)+n)}function y(n,t,e=1){return kt(-n,n,t,e)}function j(n,t,e,s,i,r=!1){const a=r?i.disableMultiStrokeFill:i.disableMultiStroke,o=Zt(n,t,e,s,i,!0,!1);if(a)return o;const h=Zt(n,t,e,s,i,!0,!0);return o.concat(h)}function Zt(n,t,e,s,i,r,a){const o=Math.pow(n-e,2)+Math.pow(t-s,2),h=Math.sqrt(o);let f=1;f=h<200?1:h>500?.4:-.0016668*h+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>o&&(u=h/10);const d=u/2,p=.2+.2*ue(i);let c=i.bowing*i.maxRandomnessOffset*(s-t)/200,l=i.bowing*i.maxRandomnessOffset*(n-e)/200;c=y(c,i,f),l=y(l,i,f);const m=[],g=()=>y(d,i,f),_=()=>y(u,i,f),w=i.preserveVertices;return r&&(a?m.push({op:"move",data:[n+(w?0:g()),t+(w?0:g())]}):m.push({op:"move",data:[n+(w?0:y(u,i,f)),t+(w?0:y(u,i,f))]})),a?m.push({op:"bcurveTo",data:[c+n+(e-n)*p+g(),l+t+(s-t)*p+g(),c+n+2*(e-n)*p+g(),l+t+2*(s-t)*p+g(),e+(w?0:g()),s+(w?0:g())]}):m.push({op:"bcurveTo",data:[c+n+(e-n)*p+_(),l+t+(s-t)*p+_(),c+n+2*(e-n)*p+_(),l+t+2*(s-t)*p+_(),e+(w?0:_()),s+(w?0:_())]}),m}function Qt(n,t,e){const s=[];s.push([n[0][0]+y(t,e),n[0][1]+y(t,e)]),s.push([n[0][0]+y(t,e),n[0][1]+y(t,e)]);for(let i=1;i<n.length;i++)s.push([n[i][0]+y(t,e),n[i][1]+y(t,e)]),i===n.length-1&&s.push([n[i][0]+y(t,e),n[i][1]+y(t,e)]);return _t(s,null,e)}function _t(n,t,e){const s=n.length,i=[];if(s>3){const r=[],a=1-e.curveTightness;i.push({op:"move",data:[n[1][0],n[1][1]]});for(let o=1;o+2<s;o++){const h=n[o];r[0]=[h[0],h[1]],r[1]=[h[0]+(a*n[o+1][0]-a*n[o-1][0])/6,h[1]+(a*n[o+1][1]-a*n[o-1][1])/6],r[2]=[n[o+1][0]+(a*n[o][0]-a*n[o+2][0])/6,n[o+1][1]+(a*n[o][1]-a*n[o+2][1])/6],r[3]=[n[o+1][0],n[o+1][1]],i.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}if(t&&t.length===2){const o=e.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+y(o,e),t[1]+y(o,e)]})}}else s===3?(i.push({op:"move",data:[n[1][0],n[1][1]]}),i.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):s===2&&i.push(...j(n[0][0],n[0][1],n[1][0],n[1][1],e));return i}function Bt(n,t,e,s,i,r,a,o){const h=[],f=[];if(o.roughness===0){n/=4,f.push([t+s*Math.cos(-n),e+i*Math.sin(-n)]);for(let u=0;u<=2*Math.PI;u+=n){const d=[t+s*Math.cos(u),e+i*Math.sin(u)];h.push(d),f.push(d)}f.push([t+s*Math.cos(0),e+i*Math.sin(0)]),f.push([t+s*Math.cos(n),e+i*Math.sin(n)])}else{const u=y(.5,o)-Math.PI/2;f.push([y(r,o)+t+.9*s*Math.cos(u-n),y(r,o)+e+.9*i*Math.sin(u-n)]);const d=2*Math.PI+u-.01;for(let p=u;p<d;p+=n){const c=[y(r,o)+t+s*Math.cos(p),y(r,o)+e+i*Math.sin(p)];h.push(c),f.push(c)}f.push([y(r,o)+t+s*Math.cos(u+2*Math.PI+.5*a),y(r,o)+e+i*Math.sin(u+2*Math.PI+.5*a)]),f.push([y(r,o)+t+.98*s*Math.cos(u+a),y(r,o)+e+.98*i*Math.sin(u+a)]),f.push([y(r,o)+t+.9*s*Math.cos(u+.5*a),y(r,o)+e+.9*i*Math.sin(u+.5*a)])}return[f,h]}function Jt(n,t,e,s,i,r,a,o,h){const f=r+y(.1,h),u=[];u.push([y(o,h)+t+.9*s*Math.cos(f-n),y(o,h)+e+.9*i*Math.sin(f-n)]);for(let d=f;d<=a;d+=n)u.push([y(o,h)+t+s*Math.cos(d),y(o,h)+e+i*Math.sin(d)]);return u.push([t+s*Math.cos(a),e+i*Math.sin(a)]),u.push([t+s*Math.cos(a),e+i*Math.sin(a)]),_t(u,null,h)}function Fs(n,t,e,s,i,r,a,o){const h=[],f=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let u=[0,0];const d=o.disableMultiStroke?1:2,p=o.preserveVertices;for(let c=0;c<d;c++)c===0?h.push({op:"move",data:[a[0],a[1]]}):h.push({op:"move",data:[a[0]+(p?0:y(f[0],o)),a[1]+(p?0:y(f[0],o))]}),u=p?[i,r]:[i+y(f[c],o),r+y(f[c],o)],h.push({op:"bcurveTo",data:[n+y(f[c],o),t+y(f[c],o),e+y(f[c],o),s+y(f[c],o),u[0],u[1]]});return h}function et(n){return[...n]}function mt(n,t){return Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)}function Gs(n,t,e){const s=mt(t,e);if(s===0)return mt(n,t);let i=((n[0]-t[0])*(e[0]-t[0])+(n[1]-t[1])*(e[1]-t[1]))/s;return i=Math.max(0,Math.min(1,i)),mt(n,B(t,e,i))}function B(n,t,e){return[n[0]+(t[0]-n[0])*e,n[1]+(t[1]-n[1])*e]}function Tt(n,t,e,s){const i=s||[];if(function(o,h){const f=o[h+0],u=o[h+1],d=o[h+2],p=o[h+3];let c=3*u[0]-2*f[0]-p[0];c*=c;let l=3*u[1]-2*f[1]-p[1];l*=l;let m=3*d[0]-2*p[0]-f[0];m*=m;let g=3*d[1]-2*p[1]-f[1];return g*=g,c<m&&(c=m),l<g&&(l=g),c+l}(n,t)<e){const o=n[t+0];i.length?(r=i[i.length-1],a=o,Math.sqrt(mt(r,a))>1&&i.push(o)):i.push(o),i.push(n[t+3])}else{const h=n[t+0],f=n[t+1],u=n[t+2],d=n[t+3],p=B(h,f,.5),c=B(f,u,.5),l=B(u,d,.5),m=B(p,c,.5),g=B(c,l,.5),_=B(m,g,.5);Tt([h,p,m,_],0,e,i),Tt([_,g,l,d],0,e,i)}var r,a;return i}function js(n,t){return yt(n,0,n.length,t)}function yt(n,t,e,s,i){const r=i||[],a=n[t],o=n[e-1];let h=0,f=1;for(let u=t+1;u<e-1;++u){const d=Gs(n[u],a,o);d>h&&(h=d,f=u)}return Math.sqrt(h)>s?(yt(n,t,f+1,s,r),yt(n,f,e,s,r)):(r.length||r.push(a),r.push(o)),r}function Kt(n,t=.15,e){const s=[],i=(n.length-1)/3;for(let r=0;r<i;r++)Tt(n,3*r,t,s);return e&&e>0?yt(s,0,s.length,e):s}const x="none";class wt{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}line(t,e,s,i,r){const a=this._o(r);return this._d("line",[le(t,e,s,i,a)],a)}rectangle(t,e,s,i,r){const a=this._o(r),o=[],h=Ws(t,e,s,i,a);if(a.fill){const f=[[t,e],[t+s,e],[t+s,e+i],[t,e+i]];a.fillStyle==="solid"?o.push(dt([f],a)):o.push(U([f],a))}return a.stroke!==x&&o.push(h),this._d("rectangle",o,a)}ellipse(t,e,s,i,r){const a=this._o(r),o=[],h=ce(s,i,a),f=Dt(t,e,a,h);if(a.fill)if(a.fillStyle==="solid"){const u=Dt(t,e,a,h).opset;u.type="fillPath",o.push(u)}else o.push(U([f.estimatedPoints],a));return a.stroke!==x&&o.push(f.opset),this._d("ellipse",o,a)}circle(t,e,s,i){const r=this.ellipse(t,e,s,s,i);return r.shape="circle",r}linearPath(t,e){const s=this._o(e);return this._d("linearPath",[gt(t,!1,s)],s)}arc(t,e,s,i,r,a,o=!1,h){const f=this._o(h),u=[],d=Ht(t,e,s,i,r,a,o,!0,f);if(o&&f.fill)if(f.fillStyle==="solid"){const p=Object.assign({},f);p.disableMultiStroke=!0;const c=Ht(t,e,s,i,r,a,!0,!1,p);c.type="fillPath",u.push(c)}else u.push(function(p,c,l,m,g,_,w){const M=p,P=c;let S=Math.abs(l/2),L=Math.abs(m/2);S+=y(.01*S,w),L+=y(.01*L,w);let O=g,R=_;for(;O<0;)O+=2*Math.PI,R+=2*Math.PI;R-O>2*Math.PI&&(O=0,R=2*Math.PI);const K=(R-O)/w.curveStepCount,A=[];for(let F=O;F<=R;F+=K)A.push([M+S*Math.cos(F),P+L*Math.sin(F)]);return A.push([M+S*Math.cos(R),P+L*Math.sin(R)]),A.push([M,P]),U([A],w)}(t,e,s,i,r,a,f));return f.stroke!==x&&u.push(d),this._d("arc",u,f)}curve(t,e){const s=this._o(e),i=[],r=qs(t,s);if(s.fill&&s.fill!==x&&t.length>=3){const a=Kt(function(o,h=0){const f=o.length;if(f<3)throw new Error("A curve must have at least three points.");const u=[];if(f===3)u.push(et(o[0]),et(o[1]),et(o[2]),et(o[2]));else{const d=[];d.push(o[0],o[0]);for(let l=1;l<o.length;l++)d.push(o[l]),l===o.length-1&&d.push(o[l]);const p=[],c=1-h;u.push(et(d[0]));for(let l=1;l+2<d.length;l++){const m=d[l];p[0]=[m[0],m[1]],p[1]=[m[0]+(c*d[l+1][0]-c*d[l-1][0])/6,m[1]+(c*d[l+1][1]-c*d[l-1][1])/6],p[2]=[d[l+1][0]+(c*d[l][0]-c*d[l+2][0])/6,d[l+1][1]+(c*d[l][1]-c*d[l+2][1])/6],p[3]=[d[l+1][0],d[l+1][1]],u.push(p[1],p[2],p[3])}}return u}(t),10,(1+s.roughness)/2);s.fillStyle==="solid"?i.push(dt([a],s)):i.push(U([a],s))}return s.stroke!==x&&i.push(r),this._d("curve",i,s)}polygon(t,e){const s=this._o(e),i=[],r=gt(t,!0,s);return s.fill&&(s.fillStyle==="solid"?i.push(dt([t],s)):i.push(U([t],s))),s.stroke!==x&&i.push(r),this._d("polygon",i,s)}path(t,e){const s=this._o(e),i=[];if(!t)return this._d("path",i,s);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=s.fill&&s.fill!=="transparent"&&s.fill!==x,a=s.stroke!==x,o=!!(s.simplification&&s.simplification<1),h=function(f,u,d){const p=Vt(Nt(Rt(f))),c=[];let l=[],m=[0,0],g=[];const _=()=>{g.length>=4&&l.push(...Kt(g,u)),g=[]},w=()=>{_(),l.length&&(c.push(l),l=[])};for(const{key:P,data:S}of p)switch(P){case"M":w(),m=[S[0],S[1]],l.push(m);break;case"L":_(),l.push([S[0],S[1]]);break;case"C":if(!g.length){const L=l.length?l[l.length-1]:m;g.push([L[0],L[1]])}g.push([S[0],S[1]]),g.push([S[2],S[3]]),g.push([S[4],S[5]]);break;case"Z":_(),l.push([m[0],m[1]])}if(w(),!d)return c;const M=[];for(const P of c){const S=js(P,d);S.length&&M.push(S)}return M}(t,1,o?4-4*s.simplification:(1+s.roughness)/2);return r&&(s.fillStyle==="solid"?i.push(dt(h,s)):i.push(U(h,s))),a&&(o?h.forEach(f=>{i.push(gt(f,!1,s))}):i.push(function(f,u){const d=Vt(Nt(Rt(f))),p=[];let c=[0,0],l=[0,0];for(const{key:m,data:g}of d)switch(m){case"M":{const _=1*(u.maxRandomnessOffset||0),w=u.preserveVertices;p.push({op:"move",data:g.map(M=>M+(w?0:y(_,u)))}),l=[g[0],g[1]],c=[g[0],g[1]];break}case"L":p.push(...j(l[0],l[1],g[0],g[1],u)),l=[g[0],g[1]];break;case"C":{const[_,w,M,P,S,L]=g;p.push(...Fs(_,w,M,P,S,L,l,u)),l=[S,L];break}case"Z":p.push(...j(l[0],l[1],c[0],c[1],u)),l=[c[0],c[1]]}return{type:"path",ops:p}}(t,s))),this._d("path",i,s)}opsToPath(t,e){let s="";for(const i of t.ops){const r=typeof e=="number"&&e>=0?i.data.map(a=>+a.toFixed(e)):i.data;switch(i.op){case"move":s+=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `}}return s.trim()}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,i=[];for(const r of e){let a=null;switch(r.type){case"path":a={d:this.opsToPath(r),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:x};break;case"fillPath":a={d:this.opsToPath(r),stroke:x,strokeWidth:0,fill:s.fill||x};break;case"fillSketch":a=this.fillSketch(r,s)}a&&i.push(a)}return i}fillSketch(t,e){let s=e.fillWeight;return s<0&&(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||x,strokeWidth:s,fill:x}}}class Ns{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new wt(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),i=this.ctx,r=t.options.fixedDecimalPlaceDigits;for(const a of e)switch(a.type){case"path":i.save(),i.strokeStyle=s.stroke==="none"?"transparent":s.stroke,i.lineWidth=s.strokeWidth,s.strokeLineDash&&i.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(i.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(i,a,r),i.restore();break;case"fillPath":{i.save(),i.fillStyle=s.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,r,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,s)}}fillSketch(t,e,s){let i=s.fillWeight;i<0&&(i=s.strokeWidth/2),t.save(),s.fillLineDash&&t.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||"",t.lineWidth=i,this._drawToContext(t,e,s.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,s,i="nonzero"){t.beginPath();for(const r of e.ops){const a=typeof s=="number"&&s>=0?r.data.map(o=>+o.toFixed(s)):r.data;switch(r.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}e.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,i,r){const a=this.gen.line(t,e,s,i,r);return this.draw(a),a}rectangle(t,e,s,i,r){const a=this.gen.rectangle(t,e,s,i,r);return this.draw(a),a}ellipse(t,e,s,i,r){const a=this.gen.ellipse(t,e,s,i,r);return this.draw(a),a}circle(t,e,s,i){const r=this.gen.circle(t,e,s,i);return this.draw(r),r}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,i,r,a,o=!1,h){const f=this.gen.arc(t,e,s,i,r,a,o,h);return this.draw(f),f}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const pt="http://www.w3.org/2000/svg";class Vs{constructor(t,e){this.svg=t,this.gen=new wt(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,r=i.createElementNS(pt,"g"),a=t.options.fixedDecimalPlaceDigits;for(const o of e){let h=null;switch(o.type){case"path":h=i.createElementNS(pt,"path"),h.setAttribute("d",this.opsToPath(o,a)),h.setAttribute("stroke",s.stroke),h.setAttribute("stroke-width",s.strokeWidth+""),h.setAttribute("fill","none"),s.strokeLineDash&&h.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":h=i.createElementNS(pt,"path"),h.setAttribute("d",this.opsToPath(o,a)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",s.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(i,o,s)}h&&r.appendChild(h)}return r}fillSketch(t,e,s){let i=s.fillWeight;i<0&&(i=s.strokeWidth/2);const r=t.createElementNS(pt,"path");return r.setAttribute("d",this.opsToPath(e,s.fixedDecimalPlaceDigits)),r.setAttribute("stroke",s.fill||""),r.setAttribute("stroke-width",i+""),r.setAttribute("fill","none"),s.fillLineDash&&r.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&r.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),r}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,s,i,r){const a=this.gen.line(t,e,s,i,r);return this.draw(a)}rectangle(t,e,s,i,r){const a=this.gen.rectangle(t,e,s,i,r);return this.draw(a)}ellipse(t,e,s,i,r){const a=this.gen.ellipse(t,e,s,i,r);return this.draw(a)}circle(t,e,s,i){const r=this.gen.circle(t,e,s,i);return this.draw(r)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,i,r,a,o=!1,h){const f=this.gen.arc(t,e,s,i,r,a,o,h);return this.draw(f)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}var Hs={canvas:(n,t)=>new Ns(n,t),svg:(n,t)=>new Vs(n,t),generator:n=>new wt(n),newSeed:()=>wt.newSeed()};const fe="http://www.w3.org/2000/svg";class Zs{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function W(n,t,e,s,i){return{type:"path",ops:Mt(n,t,e,s,i)}}function de(n,t,e){const s=(n||[]).length;if(s>2){const i=[];for(let r=0;r<s-1;r++)i.push(...Mt(n[r][0],n[r][1],n[r+1][0],n[r+1][1],e));return t&&i.push(...Mt(n[s-1][0],n[s-1][1],n[0][0],n[0][1],e)),{type:"path",ops:i}}return s===2?W(n[0][0],n[0][1],n[1][0],n[1][1],e):{type:"path",ops:[]}}function Qs(n,t,e,s,i){return function(r,a){return de(r,!0,a)}([[n,t],[n+e,t],[n+e,t+s],[n,t+s]],i)}function Ut(n,t,e,s,i){return function(r,a,o,h){const[f,u]=$t(h.increment,r,a,h.rx,h.ry,1,h.increment*At(.1,At(.4,1,o),o),o);let d=Yt(f,null,o);if(!o.disableMultiStroke){const[p]=$t(h.increment,r,a,h.rx,h.ry,1.5,0,o),c=Yt(p,null,o);d=d.concat(c)}return{estimatedPoints:u,opset:{type:"path",ops:d}}}(n,t,i,function(r,a,o){const h=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(r/2,2)+Math.pow(a/2,2))/2)),f=Math.max(o.curveStepCount,o.curveStepCount/Math.sqrt(200)*h),u=2*Math.PI/f;let d=Math.abs(r/2),p=Math.abs(a/2);const c=1-o.curveFitting;return d+=C(d*c,o),p+=C(p*c,o),{increment:u,rx:d,ry:p}}(e,s,i)).opset}function pe(n){return n.randomizer||(n.randomizer=new Zs(n.seed||0)),n.randomizer.next()}function At(n,t,e,s=1){return e.roughness*s*(pe(e)*(t-n)+n)}function C(n,t,e=1){return At(-n,n,t,e)}function Mt(n,t,e,s,i,r=!1){const a=r?i.disableMultiStrokeFill:i.disableMultiStroke,o=Xt(n,t,e,s,i,!0,!1);if(a)return o;const h=Xt(n,t,e,s,i,!0,!0);return o.concat(h)}function Xt(n,t,e,s,i,r,a){const o=Math.pow(n-e,2)+Math.pow(t-s,2),h=Math.sqrt(o);let f=1;f=h<200?1:h>500?.4:-.0016668*h+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>o&&(u=h/10);const d=u/2,p=.2+.2*pe(i);let c=i.bowing*i.maxRandomnessOffset*(s-t)/200,l=i.bowing*i.maxRandomnessOffset*(n-e)/200;c=C(c,i,f),l=C(l,i,f);const m=[],g=()=>C(d,i,f),_=()=>C(u,i,f);return r&&(a?m.push({op:"move",data:[n+g(),t+g()]}):m.push({op:"move",data:[n+C(u,i,f),t+C(u,i,f)]})),a?m.push({op:"bcurveTo",data:[c+n+(e-n)*p+g(),l+t+(s-t)*p+g(),c+n+2*(e-n)*p+g(),l+t+2*(s-t)*p+g(),e+g(),s+g()]}):m.push({op:"bcurveTo",data:[c+n+(e-n)*p+_(),l+t+(s-t)*p+_(),c+n+2*(e-n)*p+_(),l+t+2*(s-t)*p+_(),e+_(),s+_()]}),m}function Yt(n,t,e){const s=n.length,i=[];if(s>3){const r=[],a=1-e.curveTightness;i.push({op:"move",data:[n[1][0],n[1][1]]});for(let o=1;o+2<s;o++){const h=n[o];r[0]=[h[0],h[1]],r[1]=[h[0]+(a*n[o+1][0]-a*n[o-1][0])/6,h[1]+(a*n[o+1][1]-a*n[o-1][1])/6],r[2]=[n[o+1][0]+(a*n[o][0]-a*n[o+2][0])/6,n[o+1][1]+(a*n[o][1]-a*n[o+2][1])/6],r[3]=[n[o+1][0],n[o+1][1]],i.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}if(t&&t.length===2){const o=e.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+C(o,e),t[1]+C(o,e)]})}}else s===3?(i.push({op:"move",data:[n[1][0],n[1][1]]}),i.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):s===2&&i.push(...Mt(n[0][0],n[0][1],n[1][0],n[1][1],e));return i}function $t(n,t,e,s,i,r,a,o){const h=[],f=[],u=C(.5,o)-Math.PI/2;f.push([C(r,o)+t+.9*s*Math.cos(u-n),C(r,o)+e+.9*i*Math.sin(u-n)]);for(let d=u;d<2*Math.PI+u-.01;d+=n){const p=[C(r,o)+t+s*Math.cos(d),C(r,o)+e+i*Math.sin(d)];h.push(p),f.push(p)}return f.push([C(r,o)+t+s*Math.cos(u+2*Math.PI+.5*a),C(r,o)+e+i*Math.sin(u+2*Math.PI+.5*a)]),f.push([C(r,o)+t+.98*s*Math.cos(u+a),C(r,o)+e+.98*i*Math.sin(u+a)]),f.push([C(r,o)+t+.9*s*Math.cos(u+.5*a),C(r,o)+e+.9*i*Math.sin(u+.5*a)]),[f,h]}function Lt(n,t){return{maxRandomnessOffset:2,roughness:n==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:n!=="double",disableMultiStrokeFill:!1,seed:t}}function Bs(n,t,e,s,i,r){const a=[];let o=e.strokeWidth||2;const h=function(c){const l=c.padding;if(l||l===0){if(typeof l=="number")return[l,l,l,l];if(Array.isArray(l)){const m=l;if(m.length)switch(m.length){case 4:return[...m];case 1:return[m[0],m[0],m[0],m[0]];case 2:return[...m,...m];case 3:return[...m,m[1]];default:return[m[0],m[1],m[2],m[3]]}}}return[5,5,5,5]}(e),f=e.animate===void 0||!!e.animate,u=e.iterations||2,d=e.rtl?1:0,p=Lt("single",r);switch(e.type){case"underline":{const c=t.y+t.h+h[2];for(let l=d;l<u+d;l++)l%2?a.push(W(t.x+t.w,c,t.x,c,p)):a.push(W(t.x,c,t.x+t.w,c,p));break}case"strike-through":{const c=t.y+t.h/2;for(let l=d;l<u+d;l++)l%2?a.push(W(t.x+t.w,c,t.x,c,p)):a.push(W(t.x,c,t.x+t.w,c,p));break}case"box":{const c=t.x-h[3],l=t.y-h[0],m=t.w+(h[1]+h[3]),g=t.h+(h[0]+h[2]);for(let _=0;_<u;_++)a.push(Qs(c,l,m,g,p));break}case"bracket":{const c=Array.isArray(e.brackets)?e.brackets:e.brackets?[e.brackets]:["right"],l=t.x-2*h[3],m=t.x+t.w+2*h[1],g=t.y-2*h[0],_=t.y+t.h+2*h[2];for(const w of c){let M;switch(w){case"bottom":M=[[l,t.y+t.h],[l,_],[m,_],[m,t.y+t.h]];break;case"top":M=[[l,t.y],[l,g],[m,g],[m,t.y]];break;case"left":M=[[t.x,g],[l,g],[l,_],[t.x,_]];break;case"right":M=[[t.x+t.w,g],[m,g],[m,_],[t.x+t.w,_]]}M&&a.push(de(M,!1,p))}break}case"crossed-off":{const c=t.x,l=t.y,m=c+t.w,g=l+t.h;for(let _=d;_<u+d;_++)_%2?a.push(W(m,g,c,l,p)):a.push(W(c,l,m,g,p));for(let _=d;_<u+d;_++)_%2?a.push(W(c,g,m,l,p)):a.push(W(m,l,c,g,p));break}case"circle":{const c=Lt("double",r),l=t.w+(h[1]+h[3]),m=t.h+(h[0]+h[2]),g=t.x-h[3]+l/2,_=t.y-h[0]+m/2,w=Math.floor(u/2),M=u-2*w;for(let P=0;P<w;P++)a.push(Ut(g,_,l,m,c));for(let P=0;P<M;P++)a.push(Ut(g,_,l,m,p));break}case"highlight":{const c=Lt("highlight",r);o=.95*t.h;const l=t.y+t.h/2;for(let m=d;m<u+d;m++)m%2?a.push(W(t.x+t.w,l,t.x,l,c)):a.push(W(t.x,l,t.x+t.w,l,c));break}}if(a.length){const c=function(w){const M=[];for(const P of w){let S="";for(const L of P.ops){const O=L.data;switch(L.op){case"move":S.trim()&&M.push(S.trim()),S=`M${O[0]} ${O[1]} `;break;case"bcurveTo":S+=`C${O[0]} ${O[1]}, ${O[2]} ${O[3]}, ${O[4]} ${O[5]} `;break;case"lineTo":S+=`L${O[0]} ${O[1]} `}}S.trim()&&M.push(S.trim())}return M}(a),l=[],m=[];let g=0;const _=(w,M,P)=>w.setAttribute(M,P);for(const w of c){const M=document.createElementNS(fe,"path");if(_(M,"d",w),_(M,"fill","none"),_(M,"stroke",e.color||"currentColor"),_(M,"stroke-width",""+o),f){const P=M.getTotalLength();l.push(P),g+=P}n.appendChild(M),m.push(M)}if(f){let w=0;for(let M=0;M<m.length;M++){const P=m[M],S=l[M],L=g?i*(S/g):0,O=s+w,R=P.style;R.strokeDashoffset=""+S,R.strokeDasharray=""+S,R.animation=`rough-notation-dash ${L}ms ease-out ${O}ms forwards`,w+=L}}}}class Js{constructor(t,e){this._state="unattached",this._resizing=!1,this._seed=Math.floor(Math.random()*2**31),this._lastSizes=[],this._animationDelay=0,this._resizeListener=()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))},this._e=t,this._config=JSON.parse(JSON.stringify(e)),this.attach()}get animate(){return this._config.animate}set animate(t){this._config.animate=t}get animationDuration(){return this._config.animationDuration}set animationDuration(t){this._config.animationDuration=t}get iterations(){return this._config.iterations}set iterations(t){this._config.iterations=t}get color(){return this._config.color}set color(t){this._config.color!==t&&(this._config.color=t,this.refresh())}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(t){this._config.strokeWidth!==t&&(this._config.strokeWidth=t,this.refresh())}get padding(){return this._config.padding}set padding(t){this._config.padding!==t&&(this._config.padding=t,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){(function(){if(!window.__rno_kf_s){const i=window.__rno_kf_s=document.createElement("style");i.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(i)}})();const t=this._svg=document.createElementNS(fe,"svg");t.setAttribute("class","rough-annotation");const e=t.style;e.position="absolute",e.top="0",e.left="0",e.overflow="visible",e.pointerEvents="none",e.width="100px",e.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",t),this._state="not-showing",s){const i=window.getComputedStyle(this._e).position;(!i||i==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(t=>{for(const e of t)e.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const t=this.rects();if(t.length!==this._lastSizes.length)return!0;for(let e=0;e<t.length;e++)if(!this.isSameRect(t[e],this._lastSizes[e]))return!0}return!1}isSameRect(t,e){const s=(i,r)=>Math.round(i)===Math.round(r);return s(t.x,e.x)&&s(t.y,e.y)&&s(t.w,e.w)&&s(t.h,e.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&this.render(this._svg,!1)}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}render(t,e){let s=this._config;e&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const i=this.rects();let r=0;i.forEach(h=>r+=h.w);const a=s.animationDuration||800;let o=0;for(let h=0;h<i.length;h++){const f=a*(i[h].w/r);Bs(t,i[h],s,o+this._animationDelay,f,this._seed),o+=f}this._lastSizes=i,this._state="showing"}rects(){const t=[];if(this._svg)if(this._config.multiline){const e=this._e.getClientRects();for(let s=0;s<e.length;s++)t.push(this.svgRect(this._svg,e[s]))}else t.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return t}svgRect(t,e){const s=t.getBoundingClientRect(),i=e;return{x:(i.x||i.left)-(s.x||s.left),y:(i.y||i.top)-(s.y||s.top),w:i.width,h:i.height}}}function Ks(n,t){return new Js(n,t)}function Us(n){let t;return{c(){t=st("canvas"),this.h()},l(e){t=nt(e,"CANVAS",{height:!0}),it(t).forEach(I),this.h()},h(){q(t,"height",Xs)},m(e,s){Z(e,t,s),n[1](t)},p:J,i:J,o:J,d(e){e&&I(t),n[1](null)}}}let Xs=300;function Ys(n,t,e){let s;se(()=>{let r=Hs.canvas(s);r.rectangle(10,10,200,200,{fill:"limegreen",hachureAngle:45,hachureGap:5}),r.path("M230 80 A 45 45, 0, 1, 0, 275 125 L 275 80 Z",{fill:"purple",hachureAngle:60,hachureGap:5}),Ks(s,{type:"circle"}).show()});function i(r){Ct[r?"unshift":"push"](()=>{s=r,e(0,s)})}return[s,i]}class $s extends X{constructor(t){super(),Y(this,t,Ys,Us,$,{})}}function tn(n){let t,e,s,i;return t=new $s({}),s=new zs({}),{c(){rt(t.$$.fragment),e=te(),rt(s.$$.fragment)},l(r){ot(t.$$.fragment,r),e=ee(r),ot(s.$$.fragment,r)},m(r,a){at(t,r,a),Z(r,e,a),at(s,r,a),i=!0},p:J,i(r){i||(G(t.$$.fragment,r),G(s.$$.fragment,r),i=!0)},o(r){Q(t.$$.fragment,r),Q(s.$$.fragment,r),i=!1},d(r){ht(t,r),r&&I(e),ht(s,r)}}}class fn extends X{constructor(t){super(),Y(this,t,null,tn,$,{})}}export{fn as default};
